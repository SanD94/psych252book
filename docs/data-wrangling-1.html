<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 4 Data wrangling 1 | Psych 252: Statistical Methods for Behavioral and Social Sciences</title>
  <meta name="description" content="Course notes for Psych 252.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 4 Data wrangling 1 | Psych 252: Statistical Methods for Behavioral and Social Sciences" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Course notes for Psych 252." />
  <meta name="github-repo" content="psych252/psych252book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data wrangling 1 | Psych 252: Statistical Methods for Behavioral and Social Sciences" />
  
  <meta name="twitter:description" content="Course notes for Psych 252." />
  

<meta name="author" content="Tobias Gerstenberg">


<meta name="date" content="2019-03-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="visualization-2.html">
<link rel="next" href="data-wrangling-2.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.0/grViz.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Psych 252</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#thanks"><i class="fa fa-check"></i><b>1.1</b> Thanks</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#list-of-r-packages-used-in-this-book"><i class="fa fa-check"></i><b>1.2</b> List of R packages used in this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualization-1.html"><a href="visualization-1.html"><i class="fa fa-check"></i><b>2</b> Visualization 1</a><ul>
<li class="chapter" data-level="2.1" data-path="visualization-1.html"><a href="visualization-1.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning objectives</a></li>
<li class="chapter" data-level="2.2" data-path="visualization-1.html"><a href="visualization-1.html#load-packages"><i class="fa fa-check"></i><b>2.2</b> Load packages</a></li>
<li class="chapter" data-level="2.3" data-path="visualization-1.html"><a href="visualization-1.html#why-visualize-data"><i class="fa fa-check"></i><b>2.3</b> Why visualize data?</a><ul>
<li class="chapter" data-level="2.3.1" data-path="visualization-1.html"><a href="visualization-1.html#how-not-to-visualize-data"><i class="fa fa-check"></i><b>2.3.1</b> How <em>not</em> to visualize data</a></li>
<li class="chapter" data-level="2.3.2" data-path="visualization-1.html"><a href="visualization-1.html#how-to-make-it-better"><i class="fa fa-check"></i><b>2.3.2</b> How to make it better</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="visualization-1.html"><a href="visualization-1.html#setting-up-rstudio"><i class="fa fa-check"></i><b>2.4</b> Setting up RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="visualization-1.html"><a href="visualization-1.html#getting-help"><i class="fa fa-check"></i><b>2.5</b> Getting help</a></li>
<li class="chapter" data-level="2.6" data-path="visualization-1.html"><a href="visualization-1.html#data-visualization-using-ggplot2"><i class="fa fa-check"></i><b>2.6</b> Data visualization using <code>ggplot2</code></a><ul>
<li class="chapter" data-level="2.6.1" data-path="visualization-1.html"><a href="visualization-1.html#setting-up-a-plot"><i class="fa fa-check"></i><b>2.6.1</b> Setting up a plot</a></li>
<li class="chapter" data-level="2.6.2" data-path="visualization-1.html"><a href="visualization-1.html#setting-the-default-plot-theme"><i class="fa fa-check"></i><b>2.6.2</b> Setting the default plot theme</a></li>
<li class="chapter" data-level="2.6.3" data-path="visualization-1.html"><a href="visualization-1.html#scatter-plot"><i class="fa fa-check"></i><b>2.6.3</b> Scatter plot</a></li>
<li class="chapter" data-level="2.6.4" data-path="visualization-1.html"><a href="visualization-1.html#line-plot"><i class="fa fa-check"></i><b>2.6.4</b> Line plot</a></li>
<li class="chapter" data-level="2.6.5" data-path="visualization-1.html"><a href="visualization-1.html#adding-error-bars"><i class="fa fa-check"></i><b>2.6.5</b> Adding error bars</a></li>
<li class="chapter" data-level="2.6.6" data-path="visualization-1.html"><a href="visualization-1.html#grouping-data"><i class="fa fa-check"></i><b>2.6.6</b> Grouping data</a></li>
<li class="chapter" data-level="2.6.7" data-path="visualization-1.html"><a href="visualization-1.html#making-facets"><i class="fa fa-check"></i><b>2.6.7</b> Making facets</a></li>
<li class="chapter" data-level="2.6.8" data-path="visualization-1.html"><a href="visualization-1.html#global-local-and-setting-aes"><i class="fa fa-check"></i><b>2.6.8</b> Global, local, and setting <code>aes()</code></a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="visualization-1.html"><a href="visualization-1.html#additional-resources"><i class="fa fa-check"></i><b>2.7</b> Additional resources</a><ul>
<li class="chapter" data-level="2.7.1" data-path="visualization-1.html"><a href="visualization-1.html#cheatsheets"><i class="fa fa-check"></i><b>2.7.1</b> Cheatsheets</a></li>
<li class="chapter" data-level="2.7.2" data-path="visualization-1.html"><a href="visualization-1.html#data-camp-courses"><i class="fa fa-check"></i><b>2.7.2</b> Data camp courses</a></li>
<li class="chapter" data-level="2.7.3" data-path="visualization-1.html"><a href="visualization-1.html#books-and-chapters"><i class="fa fa-check"></i><b>2.7.3</b> Books and chapters</a></li>
<li class="chapter" data-level="2.7.4" data-path="visualization-1.html"><a href="visualization-1.html#misc"><i class="fa fa-check"></i><b>2.7.4</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="visualization-2.html"><a href="visualization-2.html"><i class="fa fa-check"></i><b>3</b> Visualization 2</a><ul>
<li class="chapter" data-level="3.1" data-path="visualization-2.html"><a href="visualization-2.html#learning-objectives-1"><i class="fa fa-check"></i><b>3.1</b> Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="visualization-2.html"><a href="visualization-2.html#install-and-load-packages-load-data-set-theme"><i class="fa fa-check"></i><b>3.2</b> Install and load packages, load data, set theme</a></li>
<li class="chapter" data-level="3.3" data-path="visualization-2.html"><a href="visualization-2.html#overview-of-different-plot-types-for-different-things"><i class="fa fa-check"></i><b>3.3</b> Overview of different plot types for different things</a><ul>
<li class="chapter" data-level="3.3.1" data-path="visualization-2.html"><a href="visualization-2.html#proportions"><i class="fa fa-check"></i><b>3.3.1</b> Proportions</a></li>
<li class="chapter" data-level="3.3.2" data-path="visualization-2.html"><a href="visualization-2.html#comparisons"><i class="fa fa-check"></i><b>3.3.2</b> Comparisons</a></li>
<li class="chapter" data-level="3.3.3" data-path="visualization-2.html"><a href="visualization-2.html#relationships"><i class="fa fa-check"></i><b>3.3.3</b> Relationships</a></li>
<li class="chapter" data-level="3.3.4" data-path="visualization-2.html"><a href="visualization-2.html#temporal-data"><i class="fa fa-check"></i><b>3.3.4</b> Temporal data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="visualization-2.html"><a href="visualization-2.html#customizing-plots"><i class="fa fa-check"></i><b>3.4</b> Customizing plots</a><ul>
<li class="chapter" data-level="3.4.1" data-path="visualization-2.html"><a href="visualization-2.html#changing-the-order-of-things"><i class="fa fa-check"></i><b>3.4.1</b> Changing the order of things</a></li>
<li class="chapter" data-level="3.4.2" data-path="visualization-2.html"><a href="visualization-2.html#dealing-with-legends"><i class="fa fa-check"></i><b>3.4.2</b> Dealing with legends</a></li>
<li class="chapter" data-level="3.4.3" data-path="visualization-2.html"><a href="visualization-2.html#choosing-good-colors"><i class="fa fa-check"></i><b>3.4.3</b> Choosing good colors</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="visualization-2.html"><a href="visualization-2.html#saving-plots"><i class="fa fa-check"></i><b>3.5</b> Saving plots</a></li>
<li class="chapter" data-level="3.6" data-path="visualization-2.html"><a href="visualization-2.html#creating-figure-panels"><i class="fa fa-check"></i><b>3.6</b> Creating figure panels</a></li>
<li class="chapter" data-level="3.7" data-path="visualization-2.html"><a href="visualization-2.html#peeking-behind-the-scenes"><i class="fa fa-check"></i><b>3.7</b> Peeking behind the scenes</a></li>
<li class="chapter" data-level="3.8" data-path="visualization-2.html"><a href="visualization-2.html#making-animations"><i class="fa fa-check"></i><b>3.8</b> Making animations</a></li>
<li class="chapter" data-level="3.9" data-path="visualization-2.html"><a href="visualization-2.html#shiny-apps"><i class="fa fa-check"></i><b>3.9</b> Shiny apps</a></li>
<li class="chapter" data-level="3.10" data-path="visualization-2.html"><a href="visualization-2.html#defining-snippets"><i class="fa fa-check"></i><b>3.10</b> Defining snippets</a></li>
<li class="chapter" data-level="3.11" data-path="visualization-2.html"><a href="visualization-2.html#additional-resources-1"><i class="fa fa-check"></i><b>3.11</b> Additional resources</a><ul>
<li class="chapter" data-level="3.11.1" data-path="visualization-2.html"><a href="visualization-2.html#cheatsheets-1"><i class="fa fa-check"></i><b>3.11.1</b> Cheatsheets</a></li>
<li class="chapter" data-level="3.11.2" data-path="visualization-2.html"><a href="visualization-2.html#data-camp-courses-1"><i class="fa fa-check"></i><b>3.11.2</b> Data camp courses</a></li>
<li class="chapter" data-level="3.11.3" data-path="visualization-2.html"><a href="visualization-2.html#books-and-chapters-1"><i class="fa fa-check"></i><b>3.11.3</b> Books and chapters</a></li>
<li class="chapter" data-level="3.11.4" data-path="visualization-2.html"><a href="visualization-2.html#misc-1"><i class="fa fa-check"></i><b>3.11.4</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html"><i class="fa fa-check"></i><b>4</b> Data wrangling 1</a><ul>
<li class="chapter" data-level="4.1" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#learning-objectives-2"><i class="fa fa-check"></i><b>4.1</b> Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#install-packages"><i class="fa fa-check"></i><b>4.2</b> Install packages</a></li>
<li class="chapter" data-level="4.3" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#load-packages-1"><i class="fa fa-check"></i><b>4.3</b> Load packages</a></li>
<li class="chapter" data-level="4.4" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#some-r-basics"><i class="fa fa-check"></i><b>4.4</b> Some R basics</a><ul>
<li class="chapter" data-level="4.4.1" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#modes"><i class="fa fa-check"></i><b>4.4.1</b> Modes</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#data-types"><i class="fa fa-check"></i><b>4.4.2</b> Data types</a></li>
<li class="chapter" data-level="4.4.3" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#operators"><i class="fa fa-check"></i><b>4.4.3</b> Operators</a></li>
<li class="chapter" data-level="4.4.4" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#control-flow"><i class="fa fa-check"></i><b>4.4.4</b> Control flow</a></li>
<li class="chapter" data-level="4.4.5" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#functions"><i class="fa fa-check"></i><b>4.4.5</b> Functions</a></li>
<li class="chapter" data-level="4.4.6" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#the-pipe-operator"><i class="fa fa-check"></i><b>4.4.6</b> The pipe operator <code>%&gt;%</code></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#looking-at-data"><i class="fa fa-check"></i><b>4.5</b> Looking at data</a><ul>
<li class="chapter" data-level="4.5.1" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#head"><i class="fa fa-check"></i><b>4.5.1</b> <code>head()</code></a></li>
<li class="chapter" data-level="4.5.2" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#glimpse"><i class="fa fa-check"></i><b>4.5.2</b> <code>glimpse()</code></a></li>
<li class="chapter" data-level="4.5.3" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#distinct"><i class="fa fa-check"></i><b>4.5.3</b> <code>distinct()</code></a></li>
<li class="chapter" data-level="4.5.4" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#count"><i class="fa fa-check"></i><b>4.5.4</b> <code>count()</code></a></li>
<li class="chapter" data-level="4.5.5" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#datatable"><i class="fa fa-check"></i><b>4.5.5</b> <code>datatable()</code></a></li>
<li class="chapter" data-level="4.5.6" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#other-tools-for-taking-a-quick-look-at-data"><i class="fa fa-check"></i><b>4.5.6</b> Other tools for taking a quick look at data</a></li>
<li class="chapter" data-level="4.5.7" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#a-quick-note-on-naming-things"><i class="fa fa-check"></i><b>4.5.7</b> A quick note on naming things</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#wrangling-data"><i class="fa fa-check"></i><b>4.6</b> Wrangling data</a><ul>
<li class="chapter" data-level="4.6.1" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#filter"><i class="fa fa-check"></i><b>4.6.1</b> filter()</a></li>
<li class="chapter" data-level="4.6.2" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#rename"><i class="fa fa-check"></i><b>4.6.2</b> rename()</a></li>
<li class="chapter" data-level="4.6.3" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#select"><i class="fa fa-check"></i><b>4.6.3</b> select()</a></li>
<li class="chapter" data-level="4.6.4" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#mutate"><i class="fa fa-check"></i><b>4.6.4</b> mutate()</a></li>
<li class="chapter" data-level="4.6.5" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#arrange"><i class="fa fa-check"></i><b>4.6.5</b> arrange()</a></li>
<li class="chapter" data-level="4.6.6" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#practice-2"><i class="fa fa-check"></i><b>4.6.6</b> Practice 2</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#additional-resources-2"><i class="fa fa-check"></i><b>4.7</b> Additional resources</a><ul>
<li class="chapter" data-level="4.7.1" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#cheatsheets-2"><i class="fa fa-check"></i><b>4.7.1</b> Cheatsheets</a></li>
<li class="chapter" data-level="4.7.2" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#data-camp-courses-2"><i class="fa fa-check"></i><b>4.7.2</b> Data camp courses</a></li>
<li class="chapter" data-level="4.7.3" data-path="data-wrangling-1.html"><a href="data-wrangling-1.html#books-and-chapters-2"><i class="fa fa-check"></i><b>4.7.3</b> Books and chapters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html"><i class="fa fa-check"></i><b>5</b> Data wrangling 2</a><ul>
<li class="chapter" data-level="5.1" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#learning-objectives-3"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#load-packages-2"><i class="fa fa-check"></i><b>5.2</b> Load packages</a></li>
<li class="chapter" data-level="5.3" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#wrangling-data-continued"><i class="fa fa-check"></i><b>5.3</b> Wrangling data (continued)</a><ul>
<li class="chapter" data-level="5.3.1" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#summarizing-data"><i class="fa fa-check"></i><b>5.3.1</b> Summarizing data</a></li>
<li class="chapter" data-level="5.3.2" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#reshaping-data"><i class="fa fa-check"></i><b>5.3.2</b> Reshaping data</a></li>
<li class="chapter" data-level="5.3.3" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#joining-multiple-data-frames"><i class="fa fa-check"></i><b>5.3.3</b> Joining multiple data frames</a></li>
<li class="chapter" data-level="5.3.4" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#dealing-with-missing-data"><i class="fa fa-check"></i><b>5.3.4</b> Dealing with missing data</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#reading-in-data"><i class="fa fa-check"></i><b>5.4</b> Reading in data</a><ul>
<li class="chapter" data-level="5.4.1" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#csv"><i class="fa fa-check"></i><b>5.4.1</b> csv</a></li>
<li class="chapter" data-level="5.4.2" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#rdata"><i class="fa fa-check"></i><b>5.4.2</b> RData</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#saving-data"><i class="fa fa-check"></i><b>5.5</b> Saving data</a><ul>
<li class="chapter" data-level="5.5.1" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#csv-1"><i class="fa fa-check"></i><b>5.5.1</b> csv</a></li>
<li class="chapter" data-level="5.5.2" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#rdata-1"><i class="fa fa-check"></i><b>5.5.2</b> RData</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#additional-resources-3"><i class="fa fa-check"></i><b>5.6</b> Additional resources</a><ul>
<li class="chapter" data-level="5.6.1" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#cheatsheets-3"><i class="fa fa-check"></i><b>5.6.1</b> Cheatsheets</a></li>
<li class="chapter" data-level="5.6.2" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#data-camp-courses-3"><i class="fa fa-check"></i><b>5.6.2</b> Data camp courses</a></li>
<li class="chapter" data-level="5.6.3" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#books-and-chapters-3"><i class="fa fa-check"></i><b>5.6.3</b> Books and chapters</a></li>
<li class="chapter" data-level="5.6.4" data-path="data-wrangling-2.html"><a href="data-wrangling-2.html#tutorials"><i class="fa fa-check"></i><b>5.6.4</b> Tutorials</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="probability-and-causality.html"><a href="probability-and-causality.html"><i class="fa fa-check"></i><b>6</b> Probability and causality</a><ul>
<li class="chapter" data-level="6.1" data-path="probability-and-causality.html"><a href="probability-and-causality.html#load-packages-3"><i class="fa fa-check"></i><b>6.1</b> Load packages</a></li>
<li class="chapter" data-level="6.2" data-path="probability-and-causality.html"><a href="probability-and-causality.html#counting"><i class="fa fa-check"></i><b>6.2</b> Counting</a></li>
<li class="chapter" data-level="6.3" data-path="probability-and-causality.html"><a href="probability-and-causality.html#flipping-a-coin-many-times"><i class="fa fa-check"></i><b>6.3</b> Flipping a coin many times</a></li>
<li class="chapter" data-level="6.4" data-path="probability-and-causality.html"><a href="probability-and-causality.html#clue-guide-to-probability"><i class="fa fa-check"></i><b>6.4</b> Clue guide to probability</a><ul>
<li class="chapter" data-level="6.4.1" data-path="probability-and-causality.html"><a href="probability-and-causality.html#conditional-probability"><i class="fa fa-check"></i><b>6.4.1</b> Conditional probability</a></li>
<li class="chapter" data-level="6.4.2" data-path="probability-and-causality.html"><a href="probability-and-causality.html#law-of-total-probability"><i class="fa fa-check"></i><b>6.4.2</b> Law of total probability</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="probability-and-causality.html"><a href="probability-and-causality.html#probability-operations"><i class="fa fa-check"></i><b>6.5</b> Probability operations</a></li>
<li class="chapter" data-level="6.6" data-path="probability-and-causality.html"><a href="probability-and-causality.html#bayesian-reasoning-example"><i class="fa fa-check"></i><b>6.6</b> Bayesian reasoning example</a></li>
<li class="chapter" data-level="6.7" data-path="probability-and-causality.html"><a href="probability-and-causality.html#bayesian-networks"><i class="fa fa-check"></i><b>6.7</b> Bayesian networks</a><ul>
<li class="chapter" data-level="6.7.1" data-path="probability-and-causality.html"><a href="probability-and-causality.html#sprinkler-example"><i class="fa fa-check"></i><b>6.7.1</b> Sprinkler example</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="probability-and-causality.html"><a href="probability-and-causality.html#additional-resources-4"><i class="fa fa-check"></i><b>6.8</b> Additional resources</a><ul>
<li class="chapter" data-level="6.8.1" data-path="probability-and-causality.html"><a href="probability-and-causality.html#cheatsheets-4"><i class="fa fa-check"></i><b>6.8.1</b> Cheatsheets</a></li>
<li class="chapter" data-level="6.8.2" data-path="probability-and-causality.html"><a href="probability-and-causality.html#books-and-chapters-4"><i class="fa fa-check"></i><b>6.8.2</b> Books and chapters</a></li>
<li class="chapter" data-level="6.8.3" data-path="probability-and-causality.html"><a href="probability-and-causality.html#misc-2"><i class="fa fa-check"></i><b>6.8.3</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="simulation-1.html"><a href="simulation-1.html"><i class="fa fa-check"></i><b>7</b> Simulation 1</a><ul>
<li class="chapter" data-level="7.1" data-path="simulation-1.html"><a href="simulation-1.html#load-packages-and-set-plotting-theme"><i class="fa fa-check"></i><b>7.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="7.2" data-path="simulation-1.html"><a href="simulation-1.html#working-with-distributions"><i class="fa fa-check"></i><b>7.2</b> Working with distributions</a><ul>
<li class="chapter" data-level="7.2.1" data-path="simulation-1.html"><a href="simulation-1.html#plotting-distributions"><i class="fa fa-check"></i><b>7.2.1</b> Plotting distributions</a></li>
<li class="chapter" data-level="7.2.2" data-path="simulation-1.html"><a href="simulation-1.html#sampling-from-distributions"><i class="fa fa-check"></i><b>7.2.2</b> Sampling from distributions</a></li>
<li class="chapter" data-level="7.2.3" data-path="simulation-1.html"><a href="simulation-1.html#cumulative-probability-distribution"><i class="fa fa-check"></i><b>7.2.3</b> Cumulative probability distribution</a></li>
<li class="chapter" data-level="7.2.4" data-path="simulation-1.html"><a href="simulation-1.html#inverse-cumulative-distribution"><i class="fa fa-check"></i><b>7.2.4</b> Inverse cumulative distribution</a></li>
<li class="chapter" data-level="7.2.5" data-path="simulation-1.html"><a href="simulation-1.html#computing-probabilities"><i class="fa fa-check"></i><b>7.2.5</b> Computing probabilities</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="simulation-1.html"><a href="simulation-1.html#bayesian-inference-with-the-normal-distribution"><i class="fa fa-check"></i><b>7.3</b> Bayesian inference with the normal distribution</a></li>
<li class="chapter" data-level="7.4" data-path="simulation-1.html"><a href="simulation-1.html#working-with-samples"><i class="fa fa-check"></i><b>7.4</b> Working with samples</a><ul>
<li class="chapter" data-level="7.4.1" data-path="simulation-1.html"><a href="simulation-1.html#understanding-density"><i class="fa fa-check"></i><b>7.4.1</b> Understanding <code>density()</code></a></li>
<li class="chapter" data-level="7.4.2" data-path="simulation-1.html"><a href="simulation-1.html#the-quantile-function"><i class="fa fa-check"></i><b>7.4.2</b> The <code>quantile()</code> function</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="simulation-1.html"><a href="simulation-1.html#comparing-probability-distributions"><i class="fa fa-check"></i><b>7.5</b> Comparing probability distributions</a></li>
<li class="chapter" data-level="7.6" data-path="simulation-1.html"><a href="simulation-1.html#additional-resources-5"><i class="fa fa-check"></i><b>7.6</b> Additional resources</a><ul>
<li class="chapter" data-level="7.6.1" data-path="simulation-1.html"><a href="simulation-1.html#cheatsheets-5"><i class="fa fa-check"></i><b>7.6.1</b> Cheatsheets</a></li>
<li class="chapter" data-level="7.6.2" data-path="simulation-1.html"><a href="simulation-1.html#datacamp"><i class="fa fa-check"></i><b>7.6.2</b> Datacamp</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="simulation-2.html"><a href="simulation-2.html"><i class="fa fa-check"></i><b>8</b> Simulation 2</a><ul>
<li class="chapter" data-level="8.1" data-path="simulation-2.html"><a href="simulation-2.html#load-packages-and-set-plotting-theme-1"><i class="fa fa-check"></i><b>8.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="8.2" data-path="simulation-2.html"><a href="simulation-2.html#the-central-limit-theorem"><i class="fa fa-check"></i><b>8.2</b> The central limit theorem</a><ul>
<li class="chapter" data-level="8.2.1" data-path="simulation-2.html"><a href="simulation-2.html#population-distribution"><i class="fa fa-check"></i><b>8.2.1</b> Population distribution</a></li>
<li class="chapter" data-level="8.2.2" data-path="simulation-2.html"><a href="simulation-2.html#distribution-of-a-single-sample"><i class="fa fa-check"></i><b>8.2.2</b> Distribution of a single sample</a></li>
<li class="chapter" data-level="8.2.3" data-path="simulation-2.html"><a href="simulation-2.html#the-sampling-distribution"><i class="fa fa-check"></i><b>8.2.3</b> The sampling distribution</a></li>
<li class="chapter" data-level="8.2.4" data-path="simulation-2.html"><a href="simulation-2.html#exploring-the-clt"><i class="fa fa-check"></i><b>8.2.4</b> Exploring the CLT</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="simulation-2.html"><a href="simulation-2.html#understanding-p-values"><i class="fa fa-check"></i><b>8.3</b> Understanding p-values</a><ul>
<li class="chapter" data-level="8.3.1" data-path="simulation-2.html"><a href="simulation-2.html#permutation-test"><i class="fa fa-check"></i><b>8.3.1</b> Permutation test</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="simulation-2.html"><a href="simulation-2.html#confidence-intervals"><i class="fa fa-check"></i><b>8.4</b> Confidence intervals</a></li>
<li class="chapter" data-level="8.5" data-path="simulation-2.html"><a href="simulation-2.html#additional-resources-6"><i class="fa fa-check"></i><b>8.5</b> Additional resources</a><ul>
<li class="chapter" data-level="8.5.1" data-path="simulation-2.html"><a href="simulation-2.html#datacamp-1"><i class="fa fa-check"></i><b>8.5.1</b> Datacamp</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="modeling-data.html"><a href="modeling-data.html"><i class="fa fa-check"></i><b>9</b> Modeling data</a><ul>
<li class="chapter" data-level="9.1" data-path="modeling-data.html"><a href="modeling-data.html#load-packages-and-set-plotting-theme-2"><i class="fa fa-check"></i><b>9.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="9.2" data-path="modeling-data.html"><a href="modeling-data.html#things-that-came-up-in-class"><i class="fa fa-check"></i><b>9.2</b> Things that came up in class</a><ul>
<li class="chapter" data-level="9.2.1" data-path="modeling-data.html"><a href="modeling-data.html#calculating-rmse-using-magrittr-verbs"><i class="fa fa-check"></i><b>9.2.1</b> Calculating RMSE using <code>magrittr</code> verbs</a></li>
<li class="chapter" data-level="9.2.2" data-path="modeling-data.html"><a href="modeling-data.html#relationship-between-probability-and-likelihood"><i class="fa fa-check"></i><b>9.2.2</b> Relationship between probability and likelihood</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="modeling-data.html"><a href="modeling-data.html#modeling-data-1"><i class="fa fa-check"></i><b>9.3</b> Modeling data</a><ul>
<li class="chapter" data-level="9.3.1" data-path="modeling-data.html"><a href="modeling-data.html#simplicity-vs.-accuracy-trade-off"><i class="fa fa-check"></i><b>9.3.1</b> Simplicity vs. accuracy trade-off</a></li>
<li class="chapter" data-level="9.3.2" data-path="modeling-data.html"><a href="modeling-data.html#error-definitions-and-best-estimators"><i class="fa fa-check"></i><b>9.3.2</b> Error definitions and best estimators</a></li>
<li class="chapter" data-level="9.3.3" data-path="modeling-data.html"><a href="modeling-data.html#sampling-distributions-for-median-and-mean"><i class="fa fa-check"></i><b>9.3.3</b> Sampling distributions for median and mean</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="modeling-data.html"><a href="modeling-data.html#hypothesis-testing-one-sample-t-test"><i class="fa fa-check"></i><b>9.4</b> Hypothesis testing: “One-sample t-test”</a></li>
<li class="chapter" data-level="9.5" data-path="modeling-data.html"><a href="modeling-data.html#additional-resources-7"><i class="fa fa-check"></i><b>9.5</b> Additional resources</a><ul>
<li class="chapter" data-level="9.5.1" data-path="modeling-data.html"><a href="modeling-data.html#reading"><i class="fa fa-check"></i><b>9.5.1</b> Reading</a></li>
<li class="chapter" data-level="9.5.2" data-path="modeling-data.html"><a href="modeling-data.html#datacamp-2"><i class="fa fa-check"></i><b>9.5.2</b> Datacamp</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="linear-model-1.html"><a href="linear-model-1.html"><i class="fa fa-check"></i><b>10</b> Linear model 1</a><ul>
<li class="chapter" data-level="10.1" data-path="linear-model-1.html"><a href="linear-model-1.html#load-packages-and-set-plotting-theme-3"><i class="fa fa-check"></i><b>10.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="10.2" data-path="linear-model-1.html"><a href="linear-model-1.html#things-that-came-up-in-class-1"><i class="fa fa-check"></i><b>10.2</b> Things that came up in class</a><ul>
<li class="chapter" data-level="10.2.1" data-path="linear-model-1.html"><a href="linear-model-1.html#building-a-sampling-distribution-of-pre"><i class="fa fa-check"></i><b>10.2.1</b> Building a sampling distribution of PRE</a></li>
<li class="chapter" data-level="10.2.2" data-path="linear-model-1.html"><a href="linear-model-1.html#correlation"><i class="fa fa-check"></i><b>10.2.2</b> Correlation</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="linear-model-1.html"><a href="linear-model-1.html#regression"><i class="fa fa-check"></i><b>10.3</b> Regression</a><ul>
<li class="chapter" data-level="10.3.1" data-path="linear-model-1.html"><a href="linear-model-1.html#define-and-fit-the-models"><i class="fa fa-check"></i><b>10.3.1</b> Define and fit the models</a></li>
<li class="chapter" data-level="10.3.2" data-path="linear-model-1.html"><a href="linear-model-1.html#calculate-the-sum-of-squared-errors-of-each-model"><i class="fa fa-check"></i><b>10.3.2</b> Calculate the sum of squared errors of each model</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="linear-model-1.html"><a href="linear-model-1.html#credit-example"><i class="fa fa-check"></i><b>10.4</b> Credit example</a></li>
<li class="chapter" data-level="10.5" data-path="linear-model-1.html"><a href="linear-model-1.html#additional-resources-8"><i class="fa fa-check"></i><b>10.5</b> Additional resources</a><ul>
<li class="chapter" data-level="10.5.1" data-path="linear-model-1.html"><a href="linear-model-1.html#datacamp-3"><i class="fa fa-check"></i><b>10.5.1</b> Datacamp</a></li>
<li class="chapter" data-level="10.5.2" data-path="linear-model-1.html"><a href="linear-model-1.html#misc-3"><i class="fa fa-check"></i><b>10.5.2</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="linear-model-2.html"><a href="linear-model-2.html"><i class="fa fa-check"></i><b>11</b> Linear model 2</a><ul>
<li class="chapter" data-level="11.1" data-path="linear-model-2.html"><a href="linear-model-2.html#load-packages-and-set-plotting-theme-4"><i class="fa fa-check"></i><b>11.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="11.2" data-path="linear-model-2.html"><a href="linear-model-2.html#load-data-sets"><i class="fa fa-check"></i><b>11.2</b> Load data sets</a></li>
<li class="chapter" data-level="11.3" data-path="linear-model-2.html"><a href="linear-model-2.html#things-that-came-up-in-class-2"><i class="fa fa-check"></i><b>11.3</b> Things that came up in class</a></li>
<li class="chapter" data-level="11.4" data-path="linear-model-2.html"><a href="linear-model-2.html#multiple-continuous-variables"><i class="fa fa-check"></i><b>11.4</b> Multiple continuous variables</a><ul>
<li class="chapter" data-level="11.4.1" data-path="linear-model-2.html"><a href="linear-model-2.html#explore-correlations"><i class="fa fa-check"></i><b>11.4.1</b> Explore correlations</a></li>
<li class="chapter" data-level="11.4.2" data-path="linear-model-2.html"><a href="linear-model-2.html#multipe-regression"><i class="fa fa-check"></i><b>11.4.2</b> Multipe regression</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="linear-model-2.html"><a href="linear-model-2.html#one-categorical-variable"><i class="fa fa-check"></i><b>11.5</b> One categorical variable</a><ul>
<li class="chapter" data-level="11.5.1" data-path="linear-model-2.html"><a href="linear-model-2.html#visualization-of-the-model-predictions"><i class="fa fa-check"></i><b>11.5.1</b> Visualization of the model predictions</a></li>
<li class="chapter" data-level="11.5.2" data-path="linear-model-2.html"><a href="linear-model-2.html#dummy-coding"><i class="fa fa-check"></i><b>11.5.2</b> Dummy coding</a></li>
<li class="chapter" data-level="11.5.3" data-path="linear-model-2.html"><a href="linear-model-2.html#reporting-the-results"><i class="fa fa-check"></i><b>11.5.3</b> Reporting the results</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="linear-model-2.html"><a href="linear-model-2.html#one-continuous-and-one-categorical-variable"><i class="fa fa-check"></i><b>11.6</b> One continuous and one categorical variable</a><ul>
<li class="chapter" data-level="11.6.1" data-path="linear-model-2.html"><a href="linear-model-2.html#visualization-of-the-model-predictions-1"><i class="fa fa-check"></i><b>11.6.1</b> Visualization of the model predictions</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="linear-model-2.html"><a href="linear-model-2.html#interactions"><i class="fa fa-check"></i><b>11.7</b> Interactions</a><ul>
<li class="chapter" data-level="11.7.1" data-path="linear-model-2.html"><a href="linear-model-2.html#visualization-3"><i class="fa fa-check"></i><b>11.7.1</b> Visualization</a></li>
<li class="chapter" data-level="11.7.2" data-path="linear-model-2.html"><a href="linear-model-2.html#hypothesis-test"><i class="fa fa-check"></i><b>11.7.2</b> Hypothesis test</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="linear-model-2.html"><a href="linear-model-2.html#additional-resources-9"><i class="fa fa-check"></i><b>11.8</b> Additional resources</a><ul>
<li class="chapter" data-level="11.8.1" data-path="linear-model-2.html"><a href="linear-model-2.html#datacamp-4"><i class="fa fa-check"></i><b>11.8.1</b> Datacamp</a></li>
<li class="chapter" data-level="11.8.2" data-path="linear-model-2.html"><a href="linear-model-2.html#misc-4"><i class="fa fa-check"></i><b>11.8.2</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="linear-model-3.html"><a href="linear-model-3.html"><i class="fa fa-check"></i><b>12</b> Linear model 3</a><ul>
<li class="chapter" data-level="12.1" data-path="linear-model-3.html"><a href="linear-model-3.html#load-packages-and-set-plotting-theme-5"><i class="fa fa-check"></i><b>12.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="12.2" data-path="linear-model-3.html"><a href="linear-model-3.html#load-data-sets-1"><i class="fa fa-check"></i><b>12.2</b> Load data sets</a><ul>
<li class="chapter" data-level="12.2.1" data-path="linear-model-3.html"><a href="linear-model-3.html#one-way-anova"><i class="fa fa-check"></i><b>12.2.1</b> One-way ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="linear-model-3.html"><a href="linear-model-3.html#two-way-anova"><i class="fa fa-check"></i><b>12.3</b> Two-way ANOVA</a><ul>
<li class="chapter" data-level="12.3.1" data-path="linear-model-3.html"><a href="linear-model-3.html#visualization-5"><i class="fa fa-check"></i><b>12.3.1</b> Visualization</a></li>
<li class="chapter" data-level="12.3.2" data-path="linear-model-3.html"><a href="linear-model-3.html#model-fitting-1"><i class="fa fa-check"></i><b>12.3.2</b> Model fitting</a></li>
<li class="chapter" data-level="12.3.3" data-path="linear-model-3.html"><a href="linear-model-3.html#interpreting-interactions"><i class="fa fa-check"></i><b>12.3.3</b> Interpreting interactions</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="linear-model-3.html"><a href="linear-model-3.html#additional-resources-10"><i class="fa fa-check"></i><b>12.4</b> Additional resources</a><ul>
<li class="chapter" data-level="12.4.1" data-path="linear-model-3.html"><a href="linear-model-3.html#datacamp-5"><i class="fa fa-check"></i><b>12.4.1</b> Datacamp</a></li>
<li class="chapter" data-level="12.4.2" data-path="linear-model-3.html"><a href="linear-model-3.html#misc-5"><i class="fa fa-check"></i><b>12.4.2</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="linear-model-4.html"><a href="linear-model-4.html"><i class="fa fa-check"></i><b>13</b> Linear model 4</a><ul>
<li class="chapter" data-level="13.1" data-path="linear-model-4.html"><a href="linear-model-4.html#load-packages-and-set-plotting-theme-6"><i class="fa fa-check"></i><b>13.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="13.2" data-path="linear-model-4.html"><a href="linear-model-4.html#load-data-sets-2"><i class="fa fa-check"></i><b>13.2</b> Load data sets</a></li>
<li class="chapter" data-level="13.3" data-path="linear-model-4.html"><a href="linear-model-4.html#variance-decomposition-in-one-way-anova"><i class="fa fa-check"></i><b>13.3</b> Variance decomposition in one-way ANOVA</a><ul>
<li class="chapter" data-level="13.3.1" data-path="linear-model-4.html"><a href="linear-model-4.html#calculate-sums-of-squares"><i class="fa fa-check"></i><b>13.3.1</b> Calculate sums of squares</a></li>
<li class="chapter" data-level="13.3.2" data-path="linear-model-4.html"><a href="linear-model-4.html#visualize-model-predictions"><i class="fa fa-check"></i><b>13.3.2</b> Visualize model predictions</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="linear-model-4.html"><a href="linear-model-4.html#two-way-anova-linear-model"><i class="fa fa-check"></i><b>13.4</b> Two-way ANOVA (linear model)</a><ul>
<li class="chapter" data-level="13.4.1" data-path="linear-model-4.html"><a href="linear-model-4.html#calculate-sums-of-squares-1"><i class="fa fa-check"></i><b>13.4.1</b> Calculate sums of squares</a></li>
<li class="chapter" data-level="13.4.2" data-path="linear-model-4.html"><a href="linear-model-4.html#visualize-model-predictions-1"><i class="fa fa-check"></i><b>13.4.2</b> Visualize model predictions</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="linear-model-4.html"><a href="linear-model-4.html#anova-with-unbalanced-design"><i class="fa fa-check"></i><b>13.5</b> ANOVA with unbalanced design</a></li>
<li class="chapter" data-level="13.6" data-path="linear-model-4.html"><a href="linear-model-4.html#two-way-anova-with-interaction"><i class="fa fa-check"></i><b>13.6</b> Two-way ANOVA (with interaction)</a></li>
<li class="chapter" data-level="13.7" data-path="linear-model-4.html"><a href="linear-model-4.html#planned-contrasts"><i class="fa fa-check"></i><b>13.7</b> Planned contrasts</a><ul>
<li class="chapter" data-level="13.7.1" data-path="linear-model-4.html"><a href="linear-model-4.html#hypothetical-data"><i class="fa fa-check"></i><b>13.7.1</b> Hypothetical data</a></li>
<li class="chapter" data-level="13.7.2" data-path="linear-model-4.html"><a href="linear-model-4.html#visualization-6"><i class="fa fa-check"></i><b>13.7.2</b> Visualization</a></li>
<li class="chapter" data-level="13.7.3" data-path="linear-model-4.html"><a href="linear-model-4.html#constrasts"><i class="fa fa-check"></i><b>13.7.3</b> Constrasts</a></li>
<li class="chapter" data-level="13.7.4" data-path="linear-model-4.html"><a href="linear-model-4.html#post-hoc-tests"><i class="fa fa-check"></i><b>13.7.4</b> Post-hoc tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="power-analysis.html"><a href="power-analysis.html"><i class="fa fa-check"></i><b>14</b> Power analysis</a><ul>
<li class="chapter" data-level="14.1" data-path="power-analysis.html"><a href="power-analysis.html#load-packages-and-set-plotting-theme-7"><i class="fa fa-check"></i><b>14.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="14.2" data-path="power-analysis.html"><a href="power-analysis.html#load-data-sets-3"><i class="fa fa-check"></i><b>14.2</b> Load data sets</a></li>
<li class="chapter" data-level="14.3" data-path="power-analysis.html"><a href="power-analysis.html#decision-making"><i class="fa fa-check"></i><b>14.3</b> Decision-making</a></li>
<li class="chapter" data-level="14.4" data-path="power-analysis.html"><a href="power-analysis.html#effect-sizes"><i class="fa fa-check"></i><b>14.4</b> Effect sizes</a><ul>
<li class="chapter" data-level="14.4.1" data-path="power-analysis.html"><a href="power-analysis.html#eta-squared-and-partial-eta-squared"><i class="fa fa-check"></i><b>14.4.1</b> eta-squared and partial eta-squared</a></li>
<li class="chapter" data-level="14.4.2" data-path="power-analysis.html"><a href="power-analysis.html#cohens-d"><i class="fa fa-check"></i><b>14.4.2</b> Cohen’s d</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="power-analysis.html"><a href="power-analysis.html#determining-sample-size"><i class="fa fa-check"></i><b>14.5</b> Determining sample size</a><ul>
<li class="chapter" data-level="14.5.1" data-path="power-analysis.html"><a href="power-analysis.html#pwr-package"><i class="fa fa-check"></i><b>14.5.1</b> <code>pwr</code> package</a></li>
<li class="chapter" data-level="14.5.2" data-path="power-analysis.html"><a href="power-analysis.html#simulation"><i class="fa fa-check"></i><b>14.5.2</b> Simulation</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="power-analysis.html"><a href="power-analysis.html#additional-resources-11"><i class="fa fa-check"></i><b>14.6</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="bootstrapping.html"><a href="bootstrapping.html"><i class="fa fa-check"></i><b>15</b> Bootstrapping</a><ul>
<li class="chapter" data-level="15.1" data-path="bootstrapping.html"><a href="bootstrapping.html#load-packages-and-set-plotting-theme-8"><i class="fa fa-check"></i><b>15.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="15.2" data-path="bootstrapping.html"><a href="bootstrapping.html#whats-wrong-with-parametric-tests"><i class="fa fa-check"></i><b>15.2</b> What’s wrong with parametric tests?</a><ul>
<li class="chapter" data-level="15.2.1" data-path="bootstrapping.html"><a href="bootstrapping.html#t-tests-on-non-normal-distributions"><i class="fa fa-check"></i><b>15.2.1</b> T-tests on non-normal distributions</a></li>
<li class="chapter" data-level="15.2.2" data-path="bootstrapping.html"><a href="bootstrapping.html#non-iid-noise-and-linear-models"><i class="fa fa-check"></i><b>15.2.2</b> Non-IID noise and linear models</a></li>
<li class="chapter" data-level="15.2.3" data-path="bootstrapping.html"><a href="bootstrapping.html#density-estimate-conceptual-plot"><i class="fa fa-check"></i><b>15.2.3</b> Density estimate conceptual plot</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="bootstrapping.html"><a href="bootstrapping.html#bootstrap-resampling"><i class="fa fa-check"></i><b>15.3</b> Bootstrap resampling</a><ul>
<li class="chapter" data-level="15.3.1" data-path="bootstrapping.html"><a href="bootstrapping.html#demo"><i class="fa fa-check"></i><b>15.3.1</b> Demo</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="bootstrapping.html"><a href="bootstrapping.html#applications"><i class="fa fa-check"></i><b>15.4</b> Applications</a><ul>
<li class="chapter" data-level="15.4.1" data-path="bootstrapping.html"><a href="bootstrapping.html#bootstrap-confidence-intervals"><i class="fa fa-check"></i><b>15.4.1</b> Bootstrap confidence intervals</a></li>
<li class="chapter" data-level="15.4.2" data-path="bootstrapping.html"><a href="bootstrapping.html#bootstrap-permutation-hypothesis-tests"><i class="fa fa-check"></i><b>15.4.2</b> Bootstrap (&amp; permutation) hypothesis tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="model-comparison.html"><a href="model-comparison.html"><i class="fa fa-check"></i><b>16</b> Model comparison</a><ul>
<li class="chapter" data-level="16.1" data-path="model-comparison.html"><a href="model-comparison.html#load-packages-and-set-plotting-theme-9"><i class="fa fa-check"></i><b>16.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="16.2" data-path="model-comparison.html"><a href="model-comparison.html#determining-sample-size-1"><i class="fa fa-check"></i><b>16.2</b> Determining sample size</a><ul>
<li class="chapter" data-level="16.2.1" data-path="model-comparison.html"><a href="model-comparison.html#pwr-package-1"><i class="fa fa-check"></i><b>16.2.1</b> <code>pwr</code> package</a></li>
<li class="chapter" data-level="16.2.2" data-path="model-comparison.html"><a href="model-comparison.html#map"><i class="fa fa-check"></i><b>16.2.2</b> <code>map()</code></a></li>
<li class="chapter" data-level="16.2.3" data-path="model-comparison.html"><a href="model-comparison.html#via-simulation"><i class="fa fa-check"></i><b>16.2.3</b> via simulation</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="model-comparison.html"><a href="model-comparison.html#model-comparison-1"><i class="fa fa-check"></i><b>16.3</b> Model comparison</a><ul>
<li class="chapter" data-level="16.3.1" data-path="model-comparison.html"><a href="model-comparison.html#fitting-vs.-predicting"><i class="fa fa-check"></i><b>16.3.1</b> Fitting vs. predicting</a></li>
<li class="chapter" data-level="16.3.2" data-path="model-comparison.html"><a href="model-comparison.html#f-test"><i class="fa fa-check"></i><b>16.3.2</b> F-test</a></li>
<li class="chapter" data-level="16.3.3" data-path="model-comparison.html"><a href="model-comparison.html#cross-validation"><i class="fa fa-check"></i><b>16.3.3</b> Cross-validation</a></li>
<li class="chapter" data-level="16.3.4" data-path="model-comparison.html"><a href="model-comparison.html#bootstrap"><i class="fa fa-check"></i><b>16.3.4</b> Bootstrap</a></li>
<li class="chapter" data-level="16.3.5" data-path="model-comparison.html"><a href="model-comparison.html#aic-and-bic"><i class="fa fa-check"></i><b>16.3.5</b> AIC and BIC</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="model-comparison.html"><a href="model-comparison.html#additional-resources-12"><i class="fa fa-check"></i><b>16.4</b> Additional resources</a><ul>
<li class="chapter" data-level="16.4.1" data-path="model-comparison.html"><a href="model-comparison.html#cheatsheet"><i class="fa fa-check"></i><b>16.4.1</b> Cheatsheet</a></li>
<li class="chapter" data-level="16.4.2" data-path="model-comparison.html"><a href="model-comparison.html#datacamp-course"><i class="fa fa-check"></i><b>16.4.2</b> Datacamp course</a></li>
<li class="chapter" data-level="16.4.3" data-path="model-comparison.html"><a href="model-comparison.html#reading-1"><i class="fa fa-check"></i><b>16.4.3</b> Reading</a></li>
<li class="chapter" data-level="16.4.4" data-path="model-comparison.html"><a href="model-comparison.html#misc-6"><i class="fa fa-check"></i><b>16.4.4</b> Misc</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html"><i class="fa fa-check"></i><b>17</b> Linear mixed effects models 1</a><ul>
<li class="chapter" data-level="17.1" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html#load-packages-and-set-plotting-theme-10"><i class="fa fa-check"></i><b>17.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="17.2" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html#things-that-came-up-in-class-3"><i class="fa fa-check"></i><b>17.2</b> Things that came up in class</a><ul>
<li class="chapter" data-level="17.2.1" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html#comparing-t-test-with-f-test-in-lm"><i class="fa fa-check"></i><b>17.2.1</b> Comparing t-test with F-test in <code>lm()</code></a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html#dependence"><i class="fa fa-check"></i><b>17.3</b> Dependence</a></li>
<li class="chapter" data-level="17.4" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html#additional-resources-13"><i class="fa fa-check"></i><b>17.4</b> Additional resources</a><ul>
<li class="chapter" data-level="17.4.1" data-path="linear-mixed-effects-models-1.html"><a href="linear-mixed-effects-models-1.html#readings"><i class="fa fa-check"></i><b>17.4.1</b> Readings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html"><i class="fa fa-check"></i><b>18</b> Linear mixed effects models 2</a><ul>
<li class="chapter" data-level="18.1" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#load-packages-and-set-plotting-theme-11"><i class="fa fa-check"></i><b>18.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="18.2" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#things-that-came-up-in-class-4"><i class="fa fa-check"></i><b>18.2</b> Things that came up in class</a><ul>
<li class="chapter" data-level="18.2.1" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#difference-between-replicate-and-map"><i class="fa fa-check"></i><b>18.2.1</b> Difference between <code>replicate()</code> and <code>map()</code></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#simulating-a-linear-mixed-effects-model"><i class="fa fa-check"></i><b>18.3</b> Simulating a linear mixed effects model</a></li>
<li class="chapter" data-level="18.4" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#the-effect-of-outliers"><i class="fa fa-check"></i><b>18.4</b> The effect of outliers</a></li>
<li class="chapter" data-level="18.5" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#different-slopes"><i class="fa fa-check"></i><b>18.5</b> Different slopes</a></li>
<li class="chapter" data-level="18.6" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#simpsons-paradox"><i class="fa fa-check"></i><b>18.6</b> Simpson’s paradox</a></li>
<li class="chapter" data-level="18.7" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#additional-resources-14"><i class="fa fa-check"></i><b>18.7</b> Additional resources</a><ul>
<li class="chapter" data-level="18.7.1" data-path="linear-mixed-effects-models-2.html"><a href="linear-mixed-effects-models-2.html#readings-1"><i class="fa fa-check"></i><b>18.7.1</b> Readings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html"><i class="fa fa-check"></i><b>19</b> Linear mixed effects models 3</a><ul>
<li class="chapter" data-level="19.1" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#load-packages-and-set-plotting-theme-12"><i class="fa fa-check"></i><b>19.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="19.2" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#load-data-set"><i class="fa fa-check"></i><b>19.2</b> Load data set</a></li>
<li class="chapter" data-level="19.3" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#things-that-came-up-in-class-5"><i class="fa fa-check"></i><b>19.3</b> Things that came up in class</a><ul>
<li class="chapter" data-level="19.3.1" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#one-tailed-vs.-two-tailed-tests"><i class="fa fa-check"></i><b>19.3.1</b> One-tailed vs. two-tailed tests</a></li>
<li class="chapter" data-level="19.3.2" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#mixtures-of-participants"><i class="fa fa-check"></i><b>19.3.2</b> Mixtures of participants</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#pooling-and-shrinkage"><i class="fa fa-check"></i><b>19.4</b> Pooling and shrinkage</a><ul>
<li class="chapter" data-level="19.4.1" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#complete-pooling"><i class="fa fa-check"></i><b>19.4.1</b> Complete pooling</a></li>
<li class="chapter" data-level="19.4.2" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#no-pooling"><i class="fa fa-check"></i><b>19.4.2</b> No pooling</a></li>
<li class="chapter" data-level="19.4.3" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#partial-pooling"><i class="fa fa-check"></i><b>19.4.3</b> Partial pooling</a></li>
<li class="chapter" data-level="19.4.4" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#compare-results"><i class="fa fa-check"></i><b>19.4.4</b> Compare results</a></li>
<li class="chapter" data-level="19.4.5" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#coefficients"><i class="fa fa-check"></i><b>19.4.5</b> Coefficients</a></li>
<li class="chapter" data-level="19.4.6" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#shrinkage"><i class="fa fa-check"></i><b>19.4.6</b> Shrinkage</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#bootstrapping-1"><i class="fa fa-check"></i><b>19.5</b> Bootstrapping</a><ul>
<li class="chapter" data-level="19.5.1" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#linear-model"><i class="fa fa-check"></i><b>19.5.1</b> Linear model</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#getting-p-values"><i class="fa fa-check"></i><b>19.6</b> Getting p-values</a></li>
<li class="chapter" data-level="19.7" data-path="linear-mixed-effects-models-3.html"><a href="linear-mixed-effects-models-3.html#understanding-the-lmer-syntax"><i class="fa fa-check"></i><b>19.7</b> Understanding the lmer() syntax</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html"><i class="fa fa-check"></i><b>20</b> Generalized linear model</a><ul>
<li class="chapter" data-level="20.1" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#load-packages-and-set-plotting-theme-13"><i class="fa fa-check"></i><b>20.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="20.2" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#load-data-set-1"><i class="fa fa-check"></i><b>20.2</b> Load data set</a></li>
<li class="chapter" data-level="20.3" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#logistic-regression"><i class="fa fa-check"></i><b>20.3</b> Logistic regression</a><ul>
<li class="chapter" data-level="20.3.1" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#interpreting-the-parameters"><i class="fa fa-check"></i><b>20.3.1</b> Interpreting the parameters</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#simulate-a-logistic-regression"><i class="fa fa-check"></i><b>20.4</b> Simulate a logistic regression</a></li>
<li class="chapter" data-level="20.5" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#testing-hypotheses"><i class="fa fa-check"></i><b>20.5</b> Testing hypotheses</a></li>
<li class="chapter" data-level="20.6" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#logistic-mixed-effects-model"><i class="fa fa-check"></i><b>20.6</b> Logistic mixed effects model</a></li>
<li class="chapter" data-level="20.7" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#additional-information"><i class="fa fa-check"></i><b>20.7</b> Additional information</a><ul>
<li class="chapter" data-level="20.7.1" data-path="generalized-linear-model.html"><a href="generalized-linear-model.html#datacamp-6"><i class="fa fa-check"></i><b>20.7.1</b> Datacamp</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="bayesian-data-analysis-1.html"><a href="bayesian-data-analysis-1.html"><i class="fa fa-check"></i><b>21</b> Bayesian data analysis 1</a><ul>
<li class="chapter" data-level="21.1" data-path="bayesian-data-analysis-1.html"><a href="bayesian-data-analysis-1.html#load-packages-and-set-plotting-theme-14"><i class="fa fa-check"></i><b>21.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="21.2" data-path="bayesian-data-analysis-1.html"><a href="bayesian-data-analysis-1.html#things-that-came-up"><i class="fa fa-check"></i><b>21.2</b> Things that came up</a><ul>
<li class="chapter" data-level="21.2.1" data-path="bayesian-data-analysis-1.html"><a href="bayesian-data-analysis-1.html#bias-in-cosyne-2019-conference-admission"><i class="fa fa-check"></i><b>21.2.1</b> Bias in Cosyne 2019 conference admission?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html"><i class="fa fa-check"></i><b>22</b> Bayesian data analysis 2</a><ul>
<li class="chapter" data-level="22.1" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#load-packages-and-set-plotting-theme-15"><i class="fa fa-check"></i><b>22.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="22.2" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#doing-bayesian-inference-by-hand"><i class="fa fa-check"></i><b>22.2</b> Doing Bayesian inference “by hand”</a><ul>
<li class="chapter" data-level="22.2.1" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#sequential-updating-based-on-the-beta-distribution"><i class="fa fa-check"></i><b>22.2.1</b> Sequential updating based on the Beta distribution</a></li>
<li class="chapter" data-level="22.2.2" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#coin-flip-example"><i class="fa fa-check"></i><b>22.2.2</b> Coin flip example</a></li>
<li class="chapter" data-level="22.2.3" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#bayesian-inference-by-discretization"><i class="fa fa-check"></i><b>22.2.3</b> Bayesian inference by discretization</a></li>
<li class="chapter" data-level="22.2.4" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#effect-of-the-prior"><i class="fa fa-check"></i><b>22.2.4</b> Effect of the prior</a></li>
<li class="chapter" data-level="22.2.5" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#effect-of-the-likelihood"><i class="fa fa-check"></i><b>22.2.5</b> Effect of the likelihood</a></li>
<li class="chapter" data-level="22.2.6" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#effect-of-the-sample-size"><i class="fa fa-check"></i><b>22.2.6</b> Effect of the sample size</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#distributions"><i class="fa fa-check"></i><b>22.3</b> Distributions</a><ul>
<li class="chapter" data-level="22.3.1" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#normal-vs-student-t-distribution"><i class="fa fa-check"></i><b>22.3.1</b> Normal vs Student-t distribution</a></li>
<li class="chapter" data-level="22.3.2" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#beta-distributions"><i class="fa fa-check"></i><b>22.3.2</b> Beta distributions</a></li>
<li class="chapter" data-level="22.3.3" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#normal-distributions"><i class="fa fa-check"></i><b>22.3.3</b> Normal distributions</a></li>
<li class="chapter" data-level="22.3.4" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#distributions-for-non-negative-parameters"><i class="fa fa-check"></i><b>22.3.4</b> Distributions for non-negative parameters</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#inference-via-sampling"><i class="fa fa-check"></i><b>22.4</b> Inference via sampling</a></li>
<li class="chapter" data-level="22.5" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#greta"><i class="fa fa-check"></i><b>22.5</b> Greta</a><ul>
<li class="chapter" data-level="22.5.1" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#attitude-data-set"><i class="fa fa-check"></i><b>22.5.1</b> Attitude data set</a></li>
<li class="chapter" data-level="22.5.2" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#frequentist-analysis"><i class="fa fa-check"></i><b>22.5.2</b> Frequentist analysis</a></li>
<li class="chapter" data-level="22.5.3" data-path="bayesian-data-analysis-2.html"><a href="bayesian-data-analysis-2.html#bayesian-regression"><i class="fa fa-check"></i><b>22.5.3</b> Bayesian regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html"><i class="fa fa-check"></i><b>23</b> Bayesian data analysis 3</a><ul>
<li class="chapter" data-level="23.1" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#load-packages-and-set-plotting-theme-16"><i class="fa fa-check"></i><b>23.1</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="23.2" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#load-data-set-2"><i class="fa fa-check"></i><b>23.2</b> Load data set</a></li>
<li class="chapter" data-level="23.3" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#poker"><i class="fa fa-check"></i><b>23.3</b> Poker</a><ul>
<li class="chapter" data-level="23.3.1" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#visualization-7"><i class="fa fa-check"></i><b>23.3.1</b> Visualization</a></li>
<li class="chapter" data-level="23.3.2" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#linear-model-5"><i class="fa fa-check"></i><b>23.3.2</b> Linear model</a></li>
<li class="chapter" data-level="23.3.3" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#bayesian-model"><i class="fa fa-check"></i><b>23.3.3</b> Bayesian model</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#dealing-with-heteroscedasticity"><i class="fa fa-check"></i><b>23.4</b> Dealing with heteroscedasticity</a></li>
<li class="chapter" data-level="23.5" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#ordinal-regression"><i class="fa fa-check"></i><b>23.5</b> Ordinal regression</a></li>
<li class="chapter" data-level="23.6" data-path="bayesian-data-analysis-3.html"><a href="bayesian-data-analysis-3.html#additional-resources-15"><i class="fa fa-check"></i><b>23.6</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="mediation-moderation.html"><a href="mediation-moderation.html"><i class="fa fa-check"></i><b>24</b> Mediation &amp; Moderation</a><ul>
<li class="chapter" data-level="24.1" data-path="mediation-moderation.html"><a href="mediation-moderation.html#recommended-reading"><i class="fa fa-check"></i><b>24.1</b> Recommended reading</a></li>
<li class="chapter" data-level="24.2" data-path="mediation-moderation.html"><a href="mediation-moderation.html#load-packages-and-set-plotting-theme-17"><i class="fa fa-check"></i><b>24.2</b> Load packages and set plotting theme</a></li>
<li class="chapter" data-level="24.3" data-path="mediation-moderation.html"><a href="mediation-moderation.html#mediation"><i class="fa fa-check"></i><b>24.3</b> Mediation</a><ul>
<li class="chapter" data-level="24.3.1" data-path="mediation-moderation.html"><a href="mediation-moderation.html#generate-data"><i class="fa fa-check"></i><b>24.3.1</b> Generate data</a></li>
<li class="chapter" data-level="24.3.2" data-path="mediation-moderation.html"><a href="mediation-moderation.html#method-1-baron-kennys-1986-indirect-effect-method"><i class="fa fa-check"></i><b>24.3.2</b> Method 1: Baron &amp; Kenny’s (1986) indirect effect method</a></li>
<li class="chapter" data-level="24.3.3" data-path="mediation-moderation.html"><a href="mediation-moderation.html#method-2-sobel-test"><i class="fa fa-check"></i><b>24.3.3</b> Method 2: Sobel Test</a></li>
<li class="chapter" data-level="24.3.4" data-path="mediation-moderation.html"><a href="mediation-moderation.html#method-3-bootstrapping"><i class="fa fa-check"></i><b>24.3.4</b> Method 3: Bootstrapping</a></li>
<li class="chapter" data-level="24.3.5" data-path="mediation-moderation.html"><a href="mediation-moderation.html#method-4-bayesian-approach"><i class="fa fa-check"></i><b>24.3.5</b> Method 4: Bayesian approach</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="mediation-moderation.html"><a href="mediation-moderation.html#moderation"><i class="fa fa-check"></i><b>24.4</b> Moderation</a><ul>
<li class="chapter" data-level="24.4.1" data-path="mediation-moderation.html"><a href="mediation-moderation.html#generate-data-1"><i class="fa fa-check"></i><b>24.4.1</b> Generate data</a></li>
<li class="chapter" data-level="24.4.2" data-path="mediation-moderation.html"><a href="mediation-moderation.html#moderation-analysis"><i class="fa fa-check"></i><b>24.4.2</b> Moderation analysis</a></li>
</ul></li>
<li class="chapter" data-level="24.5" data-path="mediation-moderation.html"><a href="mediation-moderation.html#additional-resources-16"><i class="fa fa-check"></i><b>24.5</b> Additional resources</a><ul>
<li class="chapter" data-level="24.5.1" data-path="mediation-moderation.html"><a href="mediation-moderation.html#books"><i class="fa fa-check"></i><b>24.5.1</b> Books</a></li>
<li class="chapter" data-level="24.5.2" data-path="mediation-moderation.html"><a href="mediation-moderation.html#tutorials-1"><i class="fa fa-check"></i><b>24.5.2</b> Tutorials</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="cheatsheets-6.html"><a href="cheatsheets-6.html"><i class="fa fa-check"></i><b>25</b> Cheatsheets</a><ul>
<li class="chapter" data-level="25.1" data-path="cheatsheets-6.html"><a href="cheatsheets-6.html#statistics"><i class="fa fa-check"></i><b>25.1</b> Statistics</a></li>
<li class="chapter" data-level="25.2" data-path="cheatsheets-6.html"><a href="cheatsheets-6.html#r"><i class="fa fa-check"></i><b>25.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Psych 252: Statistical Methods for Behavioral and Social Sciences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-wrangling-1" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Data wrangling 1</h1>
<p>In this lecture, we will take a look at how to wrangle data using the <a href="https://ggplot2.dplyr.org/">dplyr</a> package. Again, getting our data into shape is something we’ll need to do throughout the course, so it’s worth spending some time getting a good sense for how this works. The nice thing about R is that (thanks to the <code>tidyverse</code>), both visualization and data wrangling are particularly powerful.</p>
<div id="learning-objectives-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Learning objectives</h2>
<ul>
<li>Review R basics (incl. variable modes, data types, operators, control flow, and functions).</li>
<li>Learn how the pipe operator <code>%&gt;%</code> works.</li>
<li>See different ways for getting a sense of one’s data.</li>
<li>Master key data manipulation verbs from the <code>dplyr</code> package (incl. <code>filter()</code>, <code>rename()</code>, <code>select()</code>, <code>mutate()</code>, and <code>arrange()</code>)</li>
</ul>
</div>
<div id="install-packages" class="section level2">
<h2><span class="header-section-number">4.2</span> Install packages</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;skimr&quot;</span>, <span class="st">&quot;visdat&quot;</span>, <span class="st">&quot;summarytools&quot;</span>, <span class="st">&quot;DT&quot;</span>))</code></pre>
</div>
<div id="load-packages-1" class="section level2">
<h2><span class="header-section-number">4.3</span> Load packages</h2>
<p>Let’s first load the packages that we need for this chapter.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;knitr&quot;</span>) <span class="co"># for rendering the RMarkdown file</span>
<span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>) <span class="co"># for data wrangling</span></code></pre>
</div>
<div id="some-r-basics" class="section level2">
<h2><span class="header-section-number">4.4</span> Some R basics</h2>
<p>To test your knowledge of the R basics, I recommend taking the free interactive tutorial on datacamp: <a href="https://www.datacamp.com/courses/free-introduction-to-r">Introduction to R</a>. Here, I will just give a very quick overview of some of the basics.</p>
<div id="modes" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Modes</h3>
<p>Variables in R can have different modes. Table <a href="data-wrangling-1.html#tab:data-wrangling1-03">4.1</a> shows the most common ones.</p>
<table>
<caption><span id="tab:data-wrangling1-03">Table 4.1: </span>Most commonly used variable modes in R.</caption>
<thead>
<tr class="header">
<th align="right">name</th>
<th align="left">example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">numeric</td>
<td align="left"><code>1</code>, <code>3</code>, <code>48</code></td>
</tr>
<tr class="even">
<td align="right">character</td>
<td align="left"><code>'Steve'</code>, <code>'a'</code>, <code>'78'</code></td>
</tr>
<tr class="odd">
<td align="right">logical</td>
<td align="left"><code>TRUE</code>, <code>FALSE</code></td>
</tr>
<tr class="even">
<td align="right">not available</td>
<td align="left"><code>NA</code></td>
</tr>
</tbody>
</table>
<p>For characters you can either use <code>"</code> or <code>'</code>. R has a number of functions to convert a variable from one mode to another. <code>NA</code> is used for missing values.</p>
<pre class="sourceCode r"><code class="sourceCode r">tmp1 =<span class="st"> &quot;1&quot;</span> <span class="co"># we start with a character</span>
<span class="kw">str</span>(tmp1) </code></pre>
<pre><code>##  chr &quot;1&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">tmp2 =<span class="st"> </span><span class="kw">as.numeric</span>(tmp1) <span class="co"># turn it into a numeric</span>
<span class="kw">str</span>(tmp2) </code></pre>
<pre><code>##  num 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">tmp3 =<span class="st"> </span><span class="kw">as.factor</span>(tmp2) <span class="co"># turn that into a factor</span>
<span class="kw">str</span>(tmp3)</code></pre>
<pre><code>##  Factor w/ 1 level &quot;1&quot;: 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">tmp4 =<span class="st"> </span><span class="kw">as.character</span>(tmp3) <span class="co"># and go full cycle by turning it back into a character</span>
<span class="kw">str</span>(tmp4)</code></pre>
<pre><code>##  chr &quot;1&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">identical</span>(tmp1, tmp4) <span class="co"># checks whether tmp1 and tmp4 are the same</span></code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>The <code>str()</code> function displays the structure of an R object. Here, it shows us what mode the variable is.</p>
</div>
<div id="data-types" class="section level3">
<h3><span class="header-section-number">4.4.2</span> Data types</h3>
<p>R has a number of different data types. Table <a href="data-wrangling-1.html#tab:data-wrangling1-05">4.2</a> shows the ones you’re most likely to come across (taken from <a href="https://www.statmethods.net/input/datatypes.html">this source</a>):</p>
<table>
<caption><span id="tab:data-wrangling1-05">Table 4.2: </span>Most commonly used data types in R.</caption>
<thead>
<tr class="header">
<th align="right">name</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">vector</td>
<td align="left">list of values with of the same variable mode</td>
</tr>
<tr class="even">
<td align="right">factor</td>
<td align="left">for ordinal variables</td>
</tr>
<tr class="odd">
<td align="right">matrix</td>
<td align="left">2D data structure</td>
</tr>
<tr class="even">
<td align="right">array</td>
<td align="left">same as matrix for higher dimensional data</td>
</tr>
<tr class="odd">
<td align="right">data frame</td>
<td align="left">similar to matrix but with column names</td>
</tr>
<tr class="even">
<td align="right">list</td>
<td align="left">flexible type that can contain different other variable types</td>
</tr>
</tbody>
</table>
<div id="vectors" class="section level4">
<h4><span class="header-section-number">4.4.2.1</span> Vectors</h4>
<p>We build vectors using the concatenate function <code>c()</code>, and we use <code>[]</code> to access one or more elements of a vector.</p>
<pre class="sourceCode r"><code class="sourceCode r">numbers =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>) <span class="co"># make a vector</span>
numbers[<span class="dv">2</span>] <span class="co"># access the second element </span></code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">numbers[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="co"># access the first two elements</span></code></pre>
<pre><code>## [1] 1 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">numbers[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="co"># access the first and last element</span></code></pre>
<pre><code>## [1] 1 5</code></pre>
<p>In R (unlike in Python for example), 1 refers to the first element of a vector (or list).</p>
</div>
<div id="matrix" class="section level4">
<h4><span class="header-section-number">4.4.2.2</span> Matrix</h4>
<p>We build a matrix using the <code>matrix()</code> function, and we use <code>[]</code> to access its elements.</p>
<pre class="sourceCode r"><code class="sourceCode r">matrix =<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)
matrix <span class="co"># the full matrix</span></code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">matrix[<span class="dv">1</span>, <span class="dv">2</span>] <span class="co"># element in row 1, column 2</span></code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">matrix[<span class="dv">1</span>, ] <span class="co"># all elements in the first row </span></code></pre>
<pre><code>## [1] 1 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">matrix[ , <span class="dv">1</span>] <span class="co"># all elements in the first column </span></code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">matrix[<span class="op">-</span><span class="dv">1</span>, ] <span class="co"># a matrix which excludes the first row</span></code></pre>
<pre><code>##      [,1] [,2]
## [1,]    2    5
## [2,]    3    6</code></pre>
<p>Note how we use an empty placeholder to indicate that we want to select all the values in a row or column, and <code>-</code> to indicate that we want to remove something.</p>
</div>
<div id="array" class="section level4">
<h4><span class="header-section-number">4.4.2.3</span> Array</h4>
<p>Arrays work the same was as matrices with data of more than two dimensions.</p>
</div>
<div id="data-frame" class="section level4">
<h4><span class="header-section-number">4.4.2.4</span> Data frame</h4>
<pre class="sourceCode r"><code class="sourceCode r">df =<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">participant_id =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),
            <span class="dt">participant_name =</span> <span class="kw">c</span>(<span class="st">&quot;Leia&quot;</span>, <span class="st">&quot;Luke&quot;</span>, <span class="st">&quot;Darth&quot;</span>)) <span class="co"># make the data frame </span>

df <span class="co"># the complete data frame</span></code></pre>
<pre><code>## # A tibble: 3 x 2
##   participant_id participant_name
##            &lt;dbl&gt; &lt;chr&gt;           
## 1              1 Leia            
## 2              2 Luke            
## 3              3 Darth</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df[<span class="dv">1</span>, <span class="dv">2</span>] <span class="co"># a single element using numbers </span></code></pre>
<pre><code>## # A tibble: 1 x 1
##   participant_name
##   &lt;chr&gt;           
## 1 Leia</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>participant_id <span class="co"># all participants </span></code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df[[<span class="st">&quot;participant_id&quot;</span>]] <span class="co"># same as before but using [[]] instead of $</span></code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>participant_name[<span class="dv">2</span>] <span class="co"># name of the second participant</span></code></pre>
<pre><code>## [1] &quot;Luke&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df[[<span class="st">&quot;participant_name&quot;</span>]][<span class="dv">2</span>] <span class="co"># same as above</span></code></pre>
<pre><code>## [1] &quot;Luke&quot;</code></pre>
<p>We’ll use data frames a lot. Data frames are like a matrix with column names. Data frames are also more general than matrices in that different columns can have different modes. For example, one column might be a character, another one numeric, and another one a factor.</p>
<p>Here we used the <code>tibble()</code> function to create the data frame. A <code>tibble</code> is almost the same as a data frame but it has better defaults for formatting output in the console (more information on tibbles is <a href="http://r4ds.had.co.nz/tibbles.html">here</a>).</p>
</div>
<div id="lists" class="section level4">
<h4><span class="header-section-number">4.4.2.5</span> Lists</h4>
<pre class="sourceCode r"><code class="sourceCode r">l.mixed =<span class="st"> </span><span class="kw">list</span>(<span class="dt">number =</span> <span class="dv">1</span>, 
               <span class="dt">character =</span> <span class="st">&quot;2&quot;</span>, 
               <span class="dt">factor =</span> <span class="kw">factor</span>(<span class="dv">3</span>), 
               <span class="dt">matrix =</span> <span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">ncol =</span> <span class="dv">2</span>),
               <span class="dt">df =</span> <span class="kw">tibble</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>)))
l.mixed</code></pre>
<pre><code>## $number
## [1] 1
## 
## $character
## [1] &quot;2&quot;
## 
## $factor
## [1] 3
## Levels: 3
## 
## $matrix
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## $df
## # A tibble: 2 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     2     4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># three different ways of accessing a list</span>
l.mixed<span class="op">$</span>character</code></pre>
<pre><code>## [1] &quot;2&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">l.mixed[[<span class="st">&#39;character&#39;</span>]]</code></pre>
<pre><code>## [1] &quot;2&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">l.mixed[[<span class="dv">2</span>]] </code></pre>
<pre><code>## [1] &quot;2&quot;</code></pre>
<p>Lists are a very flexible data format. You can put almost anything in a list.</p>
</div>
</div>
<div id="operators" class="section level3">
<h3><span class="header-section-number">4.4.3</span> Operators</h3>
<p>Table <a href="data-wrangling-1.html#tab:data-wrangling1-10">4.3</a> shows the comparison operators that result in logical outputs.</p>
<table>
<caption><span id="tab:data-wrangling1-10">Table 4.3: </span>Table of comparison operators that result in boolean (TRUE/FALSE) outputs.</caption>
<thead>
<tr class="header">
<th align="left">symbol</th>
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>==</code></td>
<td align="left">equal to</td>
</tr>
<tr class="even">
<td align="left"><code>!=</code></td>
<td align="left">not equal to</td>
</tr>
<tr class="odd">
<td align="left"><code>&gt;</code>, <code>&lt;</code></td>
<td align="left">greater/less than</td>
</tr>
<tr class="even">
<td align="left"><code>&gt;=</code>, <code>&lt;=</code></td>
<td align="left">greater/less than or equal</td>
</tr>
<tr class="odd">
<td align="left"><code>&amp;</code>, <code>|</code>, <code>!</code></td>
<td align="left">logical operators: and, or, not</td>
</tr>
<tr class="even">
<td align="left"><code>%in%</code></td>
<td align="left">checks whether an element is in an object</td>
</tr>
</tbody>
</table>
</div>
<div id="control-flow" class="section level3">
<h3><span class="header-section-number">4.4.4</span> Control flow</h3>
<div id="if-else" class="section level4">
<h4><span class="header-section-number">4.4.4.1</span> if-then</h4>
<pre class="sourceCode r"><code class="sourceCode r">number =<span class="st"> </span><span class="dv">3</span>
<span class="cf">if</span>(number <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){
  <span class="kw">print</span>(<span class="st">&quot;The number is 1.&quot;</span>)
}<span class="cf">else</span> <span class="cf">if</span> (number <span class="op">==</span><span class="st"> </span><span class="dv">2</span>){
  <span class="kw">print</span>(<span class="st">&quot;The number is 2.&quot;</span>)
}<span class="cf">else</span>{
  <span class="kw">print</span>(<span class="st">&quot;The number is neither 1 nor 2.&quot;</span>)
}</code></pre>
<pre><code>## [1] &quot;The number is neither 1 nor 2.&quot;</code></pre>
<p>As a shorthand version, we can also use the <code>ifelse()</code> function like so:</p>
<pre class="sourceCode r"><code class="sourceCode r">number =<span class="st"> </span><span class="dv">3</span>
<span class="kw">ifelse</span>(<span class="dt">test =</span> number <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">yes =</span> <span class="st">&quot;correct&quot;</span>, <span class="dt">no =</span> <span class="st">&quot;false&quot;</span>)</code></pre>
<pre><code>## [1] &quot;false&quot;</code></pre>
</div>
<div id="for-loop" class="section level4">
<h4><span class="header-section-number">4.4.4.2</span> for loop</h4>
<pre class="sourceCode r"><code class="sourceCode r">sequence =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>

<span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(sequence)){
  <span class="kw">print</span>(i)
}</code></pre>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6
## [1] 7
## [1] 8
## [1] 9
## [1] 10</code></pre>
</div>
<div id="while-loop" class="section level4">
<h4><span class="header-section-number">4.4.4.3</span> while loop</h4>
<pre class="sourceCode r"><code class="sourceCode r">number =<span class="st"> </span><span class="dv">1</span> 

<span class="cf">while</span>(number <span class="op">&lt;=</span><span class="st"> </span><span class="dv">10</span>){
  <span class="kw">print</span>(number)
  number =<span class="st"> </span>number <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
}</code></pre>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6
## [1] 7
## [1] 8
## [1] 9
## [1] 10</code></pre>
</div>
</div>
<div id="functions" class="section level3">
<h3><span class="header-section-number">4.4.5</span> Functions</h3>
<pre class="sourceCode r"><code class="sourceCode r">fun.add_two_numbers =<span class="st"> </span><span class="cf">function</span>(a, b){
  x =<span class="st"> </span>a <span class="op">+</span><span class="st"> </span>b
  <span class="kw">return</span>(<span class="kw">str_c</span>(<span class="st">&quot;The result is &quot;</span>, x))
}

<span class="kw">fun.add_two_numbers</span>(<span class="dv">1</span>,<span class="dv">2</span>)</code></pre>
<pre><code>## [1] &quot;The result is 3&quot;</code></pre>
<p>I’ve used the <code>str_c()</code> function here to concatenate the string with the number. (R converts the number <code>x</code> into a string for us.) Note, R functions can only return a single object. However, this object can be a list (which can contain anything).</p>
<div id="some-often-used-functions" class="section level4">
<h4><span class="header-section-number">4.4.5.1</span> Some often used functions</h4>
<table>
<caption><span id="tab:data-wrangling1-16">Table 4.4: </span>Some frequently used functions.</caption>
<thead>
<tr class="header">
<th align="right">name</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"><code>length()</code></td>
<td align="left">length of an object</td>
</tr>
<tr class="even">
<td align="right"><code>dim()</code></td>
<td align="left">dimensions of an object (e.g. number of rows and columns)</td>
</tr>
<tr class="odd">
<td align="right"><code>rm()</code></td>
<td align="left">remove an object</td>
</tr>
<tr class="even">
<td align="right"><code>seq()</code></td>
<td align="left">generate a sequence of numbers</td>
</tr>
<tr class="odd">
<td align="right"><code>rep()</code></td>
<td align="left">repeat something n times</td>
</tr>
<tr class="even">
<td align="right"><code>max()</code></td>
<td align="left">maximum</td>
</tr>
<tr class="odd">
<td align="right"><code>min()</code></td>
<td align="left">minimum</td>
</tr>
<tr class="even">
<td align="right"><code>which.max()</code></td>
<td align="left">index of the maximum</td>
</tr>
<tr class="odd">
<td align="right"><code>which.min()</code></td>
<td align="left">index of the maximum</td>
</tr>
<tr class="even">
<td align="right"><code>mean()</code></td>
<td align="left">mean</td>
</tr>
<tr class="odd">
<td align="right"><code>median()</code></td>
<td align="left">median</td>
</tr>
<tr class="even">
<td align="right"><code>sum()</code></td>
<td align="left">sum</td>
</tr>
<tr class="odd">
<td align="right"><code>var()</code></td>
<td align="left">variance</td>
</tr>
<tr class="even">
<td align="right"><code>sd()</code></td>
<td align="left">standard deviation</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="the-pipe-operator" class="section level3">
<h3><span class="header-section-number">4.4.6</span> The pipe operator <code>%&gt;%</code></h3>
<div class="figure"><span id="fig:data-wrangling1-17"></span>
<img src="figures/pipe.jpg" alt="Inspiration for the `magrittr` package name." width="80%" />
<p class="caption">
Figure 4.1: Inspiration for the <code>magrittr</code> package name.
</p>
</div>
<div class="figure"><span id="fig:data-wrangling1-18"></span>
<img src="figures/magrittr.png" alt="The `magrittr` package logo." width="40%" />
<p class="caption">
Figure 4.2: The <code>magrittr</code> package logo.
</p>
</div>
<p>The pipe operator <code>%&gt;%</code> is a special operator introduced in the <code>magrittr</code> package. It is used heavily in the tidyverse. The basic idea is simple: this operator allows us to “pipe” several functions into one long chain that matches the order in which we want to do stuff.</p>
<p>Abstractly, the pipe operator does the following:</p>
<blockquote>
<p><code>f(x)</code> can be rewritten as <code>x %&gt;% f()</code></p>
</blockquote>
<p>For example, in standard R, we would write:</p>
<pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>

<span class="co"># standard R </span>
<span class="kw">sum</span>(x)</code></pre>
<pre><code>## [1] 6</code></pre>
<p>With the pipe, we can rewrite this as:</p>
<pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>

<span class="co"># with the pipe  </span>
x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sum</span>()</code></pre>
<pre><code>## [1] 6</code></pre>
<p>This doesn’t seem super useful yet, but just hold on a little longer.</p>
<blockquote>
<p><code>f(x, y)</code> can be rewritten as <code>x %&gt;% f(y)</code></p>
</blockquote>
<p>So, we could rewrite the following standard R code …</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rounding pi to 6 digits, standard R </span>
<span class="kw">round</span>(pi, <span class="dt">digits =</span> <span class="dv">6</span>)</code></pre>
<pre><code>## [1] 3.141593</code></pre>
<p>… by using the pipe:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># rounding pi to 6 digits, standard R </span>
pi <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">round</span>(<span class="dt">digits =</span> <span class="dv">6</span>)</code></pre>
<pre><code>## [1] 3.141593</code></pre>
<p>Here is another example:</p>
<pre class="sourceCode r"><code class="sourceCode r">a =<span class="st"> </span><span class="dv">3</span>
b =<span class="st"> </span><span class="dv">4</span>
<span class="kw">sum</span>(a, b) <span class="co"># standard way </span></code></pre>
<pre><code>## [1] 7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">a <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sum</span>(b) <span class="co"># the pipe way </span></code></pre>
<pre><code>## [1] 7</code></pre>
<p>The pipe operator inserts the result of the previous computation as a first element into the next computation. So, <code>a %&gt;% sum(b)</code> is equivalent to <code>sum(a, b)</code>. We can also specify to insert the result at a different position via the <code>.</code> operator. For example:</p>
<pre class="sourceCode r"><code class="sourceCode r">a =<span class="st"> </span><span class="dv">1</span>
b =<span class="st"> </span><span class="dv">10</span> 
b <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> a, <span class="dt">to =</span> .)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Here, I used the <code>.</code> operator to specify that I woud like to insert the result of <code>b</code> where I’ve put the <code>.</code> in the <code>seq()</code> function.</p>
<blockquote>
<p><code>f(x, y)</code> can be rewritten as <code>y %&gt;% f(x, .)</code></p>
</blockquote>
<p>Still not to thrilled about the pipe? We can keep going though (and I’m sure you’ll be convinced eventually.)</p>
<blockquote>
<p><code>h(g(f(x)))</code> can be rewritten as <code>x %&gt;% f() %&gt;% g() %&gt;% h()</code></p>
</blockquote>
<p>For example, consider that we want to calculate the root mean squared error (RMSE) between prediction and data.</p>
<p>Here is how the RMSE is defined:</p>
<p><span class="math display">\[
\text{RMSE} = \sqrt\frac{\sum_{i=1}^n(\hat{y}_i-y_i)^2}{n}
\]</span>
where <span class="math inline">\(\hat{y}_i\)</span> denotes the prediction, and <span class="math inline">\(y_i\)</span> the actually observed value.</p>
<p>In base R, we would do the following.</p>
<pre class="sourceCode r"><code class="sourceCode r">data =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>)
prediction =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>)

<span class="co"># calculate root mean squared error</span>
rmse =<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">mean</span>((prediction<span class="op">-</span>data)<span class="op">^</span><span class="dv">2</span>))
<span class="kw">print</span>(rmse)</code></pre>
<pre><code>## [1] 1.183216</code></pre>
<p>Using the pipe operator makes the operation more intuitive:</p>
<pre class="sourceCode r"><code class="sourceCode r">data =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>)
prediction =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>)

<span class="co"># calculate root mean squared error the pipe way </span>
rmse =<span class="st"> </span>(prediction<span class="op">-</span>data)<span class="op">^</span><span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mean</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sqrt</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">print</span>() </code></pre>
<pre><code>## [1] 1.183216</code></pre>
<p>First, we calculate the squared error, then we take the mean, then the square root, and then print the result.</p>
<p>The pipe operator <code>%&gt;%</code> is similar to the <code>+</code> used in <code>ggplot2</code>. It allows us to take step-by-step actions in a way that fits the causal ordering of how we want to do things.</p>
<blockquote>
<p><strong>Tip</strong>: The keyboard shortcut for the pipe operator is:<br />
<code>cmd/ctrl + shift + m</code><br />
<strong>Definitely learn this one</strong> – we’ll use the pipe a lot!!</p>
</blockquote>
<blockquote>
<p><strong>Tip</strong>: Code is generally easier to read when the pipe <code>%&gt;%</code> is at the end of a line (just like the <code>+</code> in <code>ggplot2</code>).</p>
</blockquote>
<p>A key advantage of using the pipe is that you don’t have to save intermediate computations as new variables and this help to keep your environment nice and clean!</p>
<div id="practice-1" class="section level4">
<h4><span class="header-section-number">4.4.6.1</span> Practice 1</h4>
<p>Let’s practice the pipe operator.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># some numbers</span>
x =<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="dv">5</span>, <span class="dt">by =</span> <span class="dv">1</span>)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># standard way</span>
<span class="kw">log</span>(x)</code></pre>
<pre><code>## [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># the pipe way (write your code underneath)</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># standard way</span>
<span class="kw">mean</span>(<span class="kw">round</span>(<span class="kw">sqrt</span>(x), <span class="dt">digits =</span> <span class="dv">2</span>))</code></pre>
<pre><code>## [1] 1.676</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># the pipe way (write your code underneath)</span></code></pre>
</div>
</div>
</div>
<div id="looking-at-data" class="section level2">
<h2><span class="header-section-number">4.5</span> Looking at data</h2>
<p>The package <code>dplyr</code> which we loaded as part of the tidyverse, includes a data set with information about starwars characters. Let’s store this as <code>df.starwars</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars =<span class="st"> </span>starwars</code></pre>
<blockquote>
<p>Note: Unlike in other languages (such as Python or Matlab), a <code>.</code> in a variable name has no special meaning and can just be used as part of the name. I’ve used <code>df</code> here to indicate for myself that this variable is a data frame.
Before visualizing the data, it’s often useful to take a quick direct look at the data.</p>
</blockquote>
<p>There are several ways of taking a look at data in R. Personally, I like to look at the data within RStudio’s data viewer. To do so, you can:</p>
<ul>
<li>click on the <code>df.starwars</code> variable in the “Environment” tab<br />
</li>
<li>type <code>View(df.starwars)</code> in the console</li>
<li>move your mouse over (or select) the variable in the editor (or console) and hit <code>F2</code></li>
</ul>
<p>I like the <code>F2</code> route the best as it’s fast and flexible.</p>
<p>Sometimes it’s also helpful to look at data in the console instead of the data viewer. Particularly when the data is very large, the data viewer can be sluggish.</p>
<p>Here are some useful functions:</p>
<div id="head" class="section level3">
<h3><span class="header-section-number">4.5.1</span> <code>head()</code></h3>
<p>Without any extra arguments specified, <code>head()</code> shows the top six rows of the data.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(df.starwars)</code></pre>
<pre><code>## # A tibble: 6 x 13
##   name  height  mass hair_color skin_color eye_color birth_year gender
##   &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
## 1 Luke…    172    77 blond      fair       blue            19   male  
## 2 C-3PO    167    75 &lt;NA&gt;       gold       yellow         112   &lt;NA&gt;  
## 3 R2-D2     96    32 &lt;NA&gt;       white, bl… red             33   &lt;NA&gt;  
## 4 Dart…    202   136 none       white      yellow          41.9 male  
## 5 Leia…    150    49 brown      light      brown           19   female
## 6 Owen…    178   120 brown, gr… light      blue            52   male  
## # … with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
<div id="glimpse" class="section level3">
<h3><span class="header-section-number">4.5.2</span> <code>glimpse()</code></h3>
<p><code>glimpse()</code> is helpful when the data frame has many columns. The data is shown in a transposed way with columns as rows.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(df.starwars)</code></pre>
<pre><code>## Observations: 87
## Variables: 13
## $ name       &lt;chr&gt; &quot;Luke Skywalker&quot;, &quot;C-3PO&quot;, &quot;R2-D2&quot;, &quot;Darth Vader&quot;, &quot;L…
## $ height     &lt;int&gt; 172, 167, 96, 202, 150, 178, 165, 97, 183, 182, 188, …
## $ mass       &lt;dbl&gt; 77.0, 75.0, 32.0, 136.0, 49.0, 120.0, 75.0, 32.0, 84.…
## $ hair_color &lt;chr&gt; &quot;blond&quot;, NA, NA, &quot;none&quot;, &quot;brown&quot;, &quot;brown, grey&quot;, &quot;bro…
## $ skin_color &lt;chr&gt; &quot;fair&quot;, &quot;gold&quot;, &quot;white, blue&quot;, &quot;white&quot;, &quot;light&quot;, &quot;lig…
## $ eye_color  &lt;chr&gt; &quot;blue&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;yellow&quot;, &quot;brown&quot;, &quot;blue&quot;, &quot;…
## $ birth_year &lt;dbl&gt; 19.0, 112.0, 33.0, 41.9, 19.0, 52.0, 47.0, NA, 24.0, …
## $ gender     &lt;chr&gt; &quot;male&quot;, NA, NA, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, N…
## $ homeworld  &lt;chr&gt; &quot;Tatooine&quot;, &quot;Tatooine&quot;, &quot;Naboo&quot;, &quot;Tatooine&quot;, &quot;Alderaa…
## $ species    &lt;chr&gt; &quot;Human&quot;, &quot;Droid&quot;, &quot;Droid&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Human&quot;,…
## $ films      &lt;list&gt; [&lt;&quot;Revenge of the Sith&quot;, &quot;Return of the Jedi&quot;, &quot;The …
## $ vehicles   &lt;list&gt; [&lt;&quot;Snowspeeder&quot;, &quot;Imperial Speeder Bike&quot;&gt;, &lt;&gt;, &lt;&gt;, &lt;…
## $ starships  &lt;list&gt; [&lt;&quot;X-wing&quot;, &quot;Imperial shuttle&quot;&gt;, &lt;&gt;, &lt;&gt;, &quot;TIE Advanc…</code></pre>
</div>
<div id="distinct" class="section level3">
<h3><span class="header-section-number">4.5.3</span> <code>distinct()</code></h3>
<p><code>distinct()</code> shows all the distinct values for a character or factor column.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">distinct</span>(name)</code></pre>
<pre><code>## # A tibble: 87 x 1
##    name              
##    &lt;chr&gt;             
##  1 Luke Skywalker    
##  2 C-3PO             
##  3 R2-D2             
##  4 Darth Vader       
##  5 Leia Organa       
##  6 Owen Lars         
##  7 Beru Whitesun lars
##  8 R5-D4             
##  9 Biggs Darklighter 
## 10 Obi-Wan Kenobi    
## # … with 77 more rows</code></pre>
</div>
<div id="count" class="section level3">
<h3><span class="header-section-number">4.5.4</span> <code>count()</code></h3>
<p><code>count()</code> shows a count of all the different distinct values in a column.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">count</span>(gender)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   gender            n
##   &lt;chr&gt;         &lt;int&gt;
## 1 &lt;NA&gt;              3
## 2 female           19
## 3 hermaphrodite     1
## 4 male             62
## 5 none              2</code></pre>
<p>It’s possible to do grouped counts by combining several variables.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">count</span>(species, gender) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">head</span>(<span class="dt">n =</span> <span class="dv">10</span>)</code></pre>
<pre><code>## # A tibble: 10 x 3
##    species  gender     n
##    &lt;chr&gt;    &lt;chr&gt;  &lt;int&gt;
##  1 &lt;NA&gt;     female     3
##  2 &lt;NA&gt;     male       2
##  3 Aleena   male       1
##  4 Besalisk male       1
##  5 Cerean   male       1
##  6 Chagrian male       1
##  7 Clawdite female     1
##  8 Droid    &lt;NA&gt;       3
##  9 Droid    none       2
## 10 Dug      male       1</code></pre>
</div>
<div id="datatable" class="section level3">
<h3><span class="header-section-number">4.5.5</span> <code>datatable()</code></h3>
<p>For RMardkown files specifically, we can use the <code>datatable()</code> function from the <code>DT</code> package to get an interactive table widget.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>DT<span class="op">::</span><span class="kw">datatable</span>()</code></pre>
<div id="htmlwidget-342611ff857c6382d140" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-342611ff857c6382d140">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87"],["Luke Skywalker","C-3PO","R2-D2","Darth Vader","Leia Organa","Owen Lars","Beru Whitesun lars","R5-D4","Biggs Darklighter","Obi-Wan Kenobi","Anakin Skywalker","Wilhuff Tarkin","Chewbacca","Han Solo","Greedo","Jabba Desilijic Tiure","Wedge Antilles","Jek Tono Porkins","Yoda","Palpatine","Boba Fett","IG-88","Bossk","Lando Calrissian","Lobot","Ackbar","Mon Mothma","Arvel Crynyd","Wicket Systri Warrick","Nien Nunb","Qui-Gon Jinn","Nute Gunray","Finis Valorum","Jar Jar Binks","Roos Tarpals","Rugor Nass","Ric Olié","Watto","Sebulba","Quarsh Panaka","Shmi Skywalker","Darth Maul","Bib Fortuna","Ayla Secura","Dud Bolt","Gasgano","Ben Quadinaros","Mace Windu","Ki-Adi-Mundi","Kit Fisto","Eeth Koth","Adi Gallia","Saesee Tiin","Yarael Poof","Plo Koon","Mas Amedda","Gregar Typho","Cordé","Cliegg Lars","Poggle the Lesser","Luminara Unduli","Barriss Offee","Dormé","Dooku","Bail Prestor Organa","Jango Fett","Zam Wesell","Dexter Jettster","Lama Su","Taun We","Jocasta Nu","Ratts Tyerell","R4-P17","Wat Tambor","San Hill","Shaak Ti","Grievous","Tarfful","Raymus Antilles","Sly Moore","Tion Medon","Finn","Rey","Poe Dameron","BB8","Captain Phasma","Padmé Amidala"],[172,167,96,202,150,178,165,97,183,182,188,180,228,180,173,175,170,180,66,170,183,200,190,177,175,180,150,null,88,160,193,191,170,196,224,206,183,137,112,183,163,175,180,178,94,122,163,188,198,196,171,184,188,264,188,196,185,157,183,183,170,166,165,193,191,183,168,198,229,213,167,79,96,193,191,178,216,234,188,178,206,null,null,null,null,null,165],[77,75,32,136,49,120,75,32,84,77,84,null,112,80,74,1358,77,110,17,75,78.2,140,113,79,79,83,null,null,20,68,89,90,null,66,82,null,null,null,40,null,null,80,null,55,45,null,65,84,82,87,null,50,null,null,80,null,85,null,null,80,56.2,50,null,80,null,79,55,102,88,null,null,15,null,48,null,57,159,136,79,48,80,null,null,null,null,null,45],["blond",null,null,"none","brown","brown, grey","brown",null,"black","auburn, white","blond","auburn, grey","brown","brown",null,null,"brown","brown","white","grey","black","none","none","black","none","none","auburn","brown","brown","none","brown","none","blond","none","none","none","brown","black","none","black","black","none","none","none","none","none","none","none","white","none","black","none","none","none","none","none","black","brown","brown","none","black","black","brown","white","black","black","blonde","none","none","none","white","none","none","none","none","none","none","brown","brown","none","none","black","brown","brown","none","unknown","brown"],["fair","gold","white, blue","white","light","light","light","white, red","light","fair","fair","fair","unknown","fair","green","green-tan, brown","fair","fair","green","pale","fair","metal","green","dark","light","brown mottle","fair","fair","brown","grey","fair","mottled green","fair","orange","grey","green","fair","blue, grey","grey, red","dark","fair","red","pale","blue","blue, grey","white, blue","grey, green, yellow","dark","pale","green","brown","dark","pale","white","orange","blue","dark","light","fair","green","yellow","yellow","light","fair","tan","tan","fair, green, yellow","brown","grey","grey","fair","grey, blue","silver, red","green, grey","grey","red, blue, white","brown, white","brown","light","pale","grey","dark","light","light","none","unknown","light"],["blue","yellow","red","yellow","brown","blue","blue","red","brown","blue-gray","blue","blue","blue","brown","black","orange","hazel","blue","brown","yellow","brown","red","red","brown","blue","orange","blue","brown","brown","black","blue","red","blue","orange","orange","orange","blue","yellow","orange","brown","brown","yellow","pink","hazel","yellow","black","orange","brown","yellow","black","brown","blue","orange","yellow","black","blue","brown","brown","blue","yellow","blue","blue","brown","brown","brown","brown","yellow","yellow","black","black","blue","unknown","red, blue","unknown","gold","black","green, yellow","blue","brown","white","black","dark","hazel","brown","black","unknown","brown"],[19,112,33,41.9,19,52,47,null,24,57,41.9,64,200,29,44,600,21,null,896,82,31.5,15,53,31,37,41,48,null,8,null,92,null,91,52,null,null,null,null,null,62,72,54,null,48,null,null,null,72,92,null,null,null,null,null,22,null,null,null,82,null,58,40,null,102,67,66,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,46],["male",null,null,"male","female","male","female",null,"male","male","male","male","male","male","male","hermaphrodite","male","male","male","male","male","none","male","male","male","male","female","male","male","male","male","male","male","male","male","male","male","male","male","male","female","male","male","female","male","male","male","male","male","male","male","female","male","male","male","male","male","female","male","male","female","female","female","male","male","male","female","male","male","female","female","male","female","male","male","female","male","male","male","female","male","male","female","male","none","female","female"],["Tatooine","Tatooine","Naboo","Tatooine","Alderaan","Tatooine","Tatooine","Tatooine","Tatooine","Stewjon","Tatooine","Eriadu","Kashyyyk","Corellia","Rodia","Nal Hutta","Corellia","Bestine IV",null,"Naboo","Kamino",null,"Trandosha","Socorro","Bespin","Mon Cala","Chandrila",null,"Endor","Sullust",null,"Cato Neimoidia","Coruscant","Naboo","Naboo","Naboo","Naboo","Toydaria","Malastare","Naboo","Tatooine","Dathomir","Ryloth","Ryloth","Vulpter","Troiken","Tund","Haruun Kal","Cerea","Glee Anselm","Iridonia","Coruscant","Iktotch","Quermia","Dorin","Champala","Naboo","Naboo","Tatooine","Geonosis","Mirial","Mirial","Naboo","Serenno","Alderaan","Concord Dawn","Zolan","Ojom","Kamino","Kamino","Coruscant","Aleen Minor",null,"Skako","Muunilinst","Shili","Kalee","Kashyyyk","Alderaan","Umbara","Utapau",null,null,null,null,null,"Naboo"],["Human","Droid","Droid","Human","Human","Human","Human","Droid","Human","Human","Human","Human","Wookiee","Human","Rodian","Hutt","Human","Human","Yoda's species","Human","Human","Droid","Trandoshan","Human","Human","Mon Calamari","Human","Human","Ewok","Sullustan","Human","Neimodian","Human","Gungan","Gungan","Gungan",null,"Toydarian","Dug",null,"Human","Zabrak","Twi'lek","Twi'lek","Vulptereen","Xexto","Toong","Human","Cerean","Nautolan","Zabrak","Tholothian","Iktotchi","Quermian","Kel Dor","Chagrian","Human","Human","Human","Geonosian","Mirialan","Mirialan","Human","Human","Human","Human","Clawdite","Besalisk","Kaminoan","Kaminoan","Human","Aleena",null,"Skakoan","Muun","Togruta","Kaleesh","Wookiee","Human",null,"Pau'an","Human","Human","Human","Droid",null,"Human"],[["Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope","The Force Awakens"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope","The Force Awakens"],["Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope"],["Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope","The Force Awakens"],["Attack of the Clones","Revenge of the Sith","A New Hope"],["Attack of the Clones","Revenge of the Sith","A New Hope"],"A New Hope","A New Hope",["Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Revenge of the Sith","A New Hope"],["Revenge of the Sith","Return of the Jedi","The Empire Strikes Back","A New Hope","The Force Awakens"],["Return of the Jedi","The Empire Strikes Back","A New Hope","The Force Awakens"],"A New Hope",["The Phantom Menace","Return of the Jedi","A New Hope"],["Return of the Jedi","The Empire Strikes Back","A New Hope"],"A New Hope",["Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","The Empire Strikes Back"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","The Empire Strikes Back"],["Attack of the Clones","Return of the Jedi","The Empire Strikes Back"],"The Empire Strikes Back","The Empire Strikes Back",["Return of the Jedi","The Empire Strikes Back"],"The Empire Strikes Back",["Return of the Jedi","The Force Awakens"],"Return of the Jedi","Return of the Jedi","Return of the Jedi","Return of the Jedi","The Phantom Menace",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],"The Phantom Menace",["Attack of the Clones","The Phantom Menace"],"The Phantom Menace","The Phantom Menace","The Phantom Menace",["Attack of the Clones","The Phantom Menace"],"The Phantom Menace","The Phantom Menace",["Attack of the Clones","The Phantom Menace"],"The Phantom Menace","Return of the Jedi",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],"The Phantom Menace","The Phantom Menace","The Phantom Menace",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["The Phantom Menace","Revenge of the Sith"],["The Phantom Menace","Revenge of the Sith"],["The Phantom Menace","Revenge of the Sith"],"The Phantom Menace",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Attack of the Clones","The Phantom Menace"],"Attack of the Clones","Attack of the Clones","Attack of the Clones",["Attack of the Clones","Revenge of the Sith"],["Attack of the Clones","Revenge of the Sith"],"Attack of the Clones","Attack of the Clones",["Attack of the Clones","Revenge of the Sith"],["Attack of the Clones","Revenge of the Sith"],"Attack of the Clones","Attack of the Clones","Attack of the Clones","Attack of the Clones","Attack of the Clones","Attack of the Clones","The Phantom Menace",["Attack of the Clones","Revenge of the Sith"],"Attack of the Clones","Attack of the Clones",["Attack of the Clones","Revenge of the Sith"],"Revenge of the Sith","Revenge of the Sith",["Revenge of the Sith","A New Hope"],["Attack of the Clones","Revenge of the Sith"],"Revenge of the Sith","The Force Awakens","The Force Awakens","The Force Awakens","The Force Awakens","The Force Awakens",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"]],[["Snowspeeder","Imperial Speeder Bike"],[],[],[],"Imperial Speeder Bike",[],[],[],[],"Tribubble bongo",["Zephyr-G swoop bike","XJ-6 airspeeder"],[],"AT-ST",[],[],[],"Snowspeeder",[],[],[],[],[],[],[],[],[],[],[],[],[],"Tribubble bongo",[],[],[],[],[],[],[],[],[],[],"Sith speeder",[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],"Flitknot speeder",[],[],"Koro-2 Exodrive airspeeder",[],[],[],[],[],[],[],[],[],"Tsmeu-6 personal wheel bike",[],[],[],[],[],[],[],[],[],[]],[["X-wing","Imperial shuttle"],[],[],"TIE Advanced x1",[],[],[],[],"X-wing",["Jedi starfighter","Trade Federation cruiser","Naboo star skiff","Jedi Interceptor","Belbullab-22 starfighter"],["Trade Federation cruiser","Jedi Interceptor","Naboo fighter"],[],["Millennium Falcon","Imperial shuttle"],["Millennium Falcon","Imperial shuttle"],[],[],"X-wing","X-wing",[],[],"Slave 1",[],[],"Millennium Falcon",[],[],[],"A-wing",[],"Millennium Falcon",[],[],[],[],[],[],"Naboo Royal Starship",[],[],[],[],"Scimitar",[],[],[],[],[],[],[],[],[],[],[],[],"Jedi starfighter",[],"Naboo fighter",[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],"Belbullab-22 starfighter",[],[],[],[],[],[],"T-70 X-wing fighter",[],[],["H-type Nubian yacht","Naboo star skiff","Naboo fighter"]]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>height<\/th>\n      <th>mass<\/th>\n      <th>hair_color<\/th>\n      <th>skin_color<\/th>\n      <th>eye_color<\/th>\n      <th>birth_year<\/th>\n      <th>gender<\/th>\n      <th>homeworld<\/th>\n      <th>species<\/th>\n      <th>films<\/th>\n      <th>vehicles<\/th>\n      <th>starships<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="other-tools-for-taking-a-quick-look-at-data" class="section level3">
<h3><span class="header-section-number">4.5.6</span> Other tools for taking a quick look at data</h3>
<div id="vis_dat" class="section level4">
<h4><span class="header-section-number">4.5.6.1</span> <code>vis_dat()</code></h4>
<p>The <code>vis_dat()</code> function from the <code>visdat</code> package, gives a visual summary that makes it easy to see the variable types and whether there are missing values in the data.</p>
<pre class="sourceCode r"><code class="sourceCode r">visdat<span class="op">::</span><span class="kw">vis_dat</span>(df.starwars)</code></pre>
<p><img src="04-data_wrangling1_files/figure-html/data-wrangling1-37-1.png" width="672" /></p>
<div class="info">
<p>
When R loads packages, functions loaded in earlier packages are overwritten by functions of the same name from later packages. This means that the order in which packages are loaded matters. To make sure that a function from the correct package is used, you can use the <code>package_name::function_name()</code> construction. This way, the <code>function_name()</code> from the <code>package_name</code> is used, rather than the same function from a different package.
</p>
<p>
This is why, in general, I recommend to load the tidyverse package last (since it contains a large number of functions that we use a lot).
</p>
</div>
</div>
<div id="skim" class="section level4">
<h4><span class="header-section-number">4.5.6.2</span> <code>skim()</code></h4>
<p>The <code>skim()</code> function from the <code>skimr</code> package provides a nice overview of the data, separated by variable types.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages(&quot;skimr&quot;)</span>
skimr<span class="op">::</span><span class="kw">skim</span>(df.starwars)</code></pre>
<pre><code>## Skim summary statistics
##  n obs: 87 
##  n variables: 13 
## 
## ── Variable type:character ────────────────────────────────────────────────
##    variable missing complete  n min max empty n_unique
##   eye_color       0       87 87   3  13     0       15
##      gender       3       84 87   4  13     0        4
##  hair_color       5       82 87   4  13     0       12
##   homeworld      10       77 87   4  14     0       48
##        name       0       87 87   3  21     0       87
##  skin_color       0       87 87   3  19     0       31
##     species       5       82 87   3  14     0       37
## 
## ── Variable type:integer ──────────────────────────────────────────────────
##  variable missing complete  n   mean    sd p0 p25 p50 p75 p100     hist
##    height       6       81 87 174.36 34.77 66 167 180 191  264 ▁▁▁▂▇▃▁▁
## 
## ── Variable type:list ─────────────────────────────────────────────────────
##   variable missing complete  n n_unique min_length median_length
##      films       0       87 87       24          1             1
##  starships       0       87 87       17          0             0
##   vehicles       0       87 87       11          0             0
##  max_length
##           7
##           5
##           2
## 
## ── Variable type:numeric ──────────────────────────────────────────────────
##    variable missing complete  n  mean     sd p0  p25 p50  p75 p100
##  birth_year      44       43 87 87.57 154.69  8 35    52 72    896
##        mass      28       59 87 97.31 169.46 15 55.6  79 84.5 1358
##      hist
##  ▇▁▁▁▁▁▁▁
##  ▇▁▁▁▁▁▁▁</code></pre>
</div>
<div id="dfsummary" class="section level4">
<h4><span class="header-section-number">4.5.6.3</span> <code>dfSummary()</code></h4>
<p>The <code>summarytools</code> package is another great package for taking a look at the data. It renders a nice html output for the data frame including a lot of helpful information. You can find out more about this package <a href="https://cran.r-project.org/web/packages/summarytools/vignettes/Introduction.html">here</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(<span class="kw">negate</span>(is.list)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># this removes all list columns (we&#39;ll learn about this later)</span>
<span class="st">  </span>summarytools<span class="op">::</span><span class="kw">dfSummary</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>summarytools<span class="op">::</span><span class="kw">view</span>()</code></pre>
<blockquote>
<p>Note: The summarytools::view() function will not show up here in the html. It generates a summary of the data that is displayed in the Viewer in RStudio.</p>
</blockquote>
<p>Once we’ve taken a look at the data, the next step would be to visualize relationships between variables of interest.</p>
</div>
</div>
<div id="a-quick-note-on-naming-things" class="section level3">
<h3><span class="header-section-number">4.5.7</span> A quick note on naming things</h3>
<p>Personally, I like to name things in a (pretty) consistent way so that I have no trouble finding stuff even when I open up a project that I haven’t worked on for a while. I try to use the following naming conventions:</p>
<table>
<caption><span id="tab:data-wrangling1-40">Table 4.5: </span>Some naming conventions I adopt to make my life easier.</caption>
<thead>
<tr class="header">
<th align="right">name</th>
<th align="left">use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">df.thing</td>
<td align="left">for data frames</td>
</tr>
<tr class="even">
<td align="right">l.thing</td>
<td align="left">for lists</td>
</tr>
<tr class="odd">
<td align="right">fun.thing</td>
<td align="left">for functions</td>
</tr>
<tr class="even">
<td align="right">tmp.thing</td>
<td align="left">for temporary variables</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="wrangling-data" class="section level2">
<h2><span class="header-section-number">4.6</span> Wrangling data</h2>
<p>We use the functions in the package <code>dplyr</code> to manipulate our data.</p>
<div id="filter" class="section level3">
<h3><span class="header-section-number">4.6.1</span> filter()</h3>
<p><code>filter()</code> lets us apply logical (and other) operators (see Table <a href="data-wrangling-1.html#tab:data-wrangling1-10">4.3</a>) to subset the data. Here, I’ve filtered out the male characters.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> &#39;male&#39;</span>)</code></pre>
<pre><code>## # A tibble: 62 x 13
##    name  height  mass hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
##  1 Luke…    172    77 blond      fair       blue            19   male  
##  2 Dart…    202   136 none       white      yellow          41.9 male  
##  3 Owen…    178   120 brown, gr… light      blue            52   male  
##  4 Bigg…    183    84 black      light      brown           24   male  
##  5 Obi-…    182    77 auburn, w… fair       blue-gray       57   male  
##  6 Anak…    188    84 blond      fair       blue            41.9 male  
##  7 Wilh…    180    NA auburn, g… fair       blue            64   male  
##  8 Chew…    228   112 brown      unknown    blue           200   male  
##  9 Han …    180    80 brown      fair       brown           29   male  
## 10 Gree…    173    74 &lt;NA&gt;       green      black           44   male  
## # … with 52 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>We can combine multiple conditions in the same call. Here, I’ve filtered out male characters, whose height is greater than the median height (i.e. they are in the top 50 percentile), and whose mass was not <code>NA</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> &#39;male&#39;</span>,
         height <span class="op">&gt;</span><span class="st"> </span><span class="kw">median</span>(height, <span class="dt">na.rm =</span> T),
         <span class="op">!</span><span class="kw">is.na</span>(mass))</code></pre>
<pre><code>## # A tibble: 26 x 13
##    name  height  mass hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
##  1 Dart…    202 136   none       white      yellow          41.9 male  
##  2 Bigg…    183  84   black      light      brown           24   male  
##  3 Obi-…    182  77   auburn, w… fair       blue-gray       57   male  
##  4 Anak…    188  84   blond      fair       blue            41.9 male  
##  5 Chew…    228 112   brown      unknown    blue           200   male  
##  6 Boba…    183  78.2 black      fair       brown           31.5 male  
##  7 Bossk    190 113   none       green      red             53   male  
##  8 Qui-…    193  89   brown      fair       blue            92   male  
##  9 Nute…    191  90   none       mottled g… red             NA   male  
## 10 Jar …    196  66   none       orange     orange          52   male  
## # … with 16 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>Many functions like <code>mean()</code>, <code>median()</code>, <code>var()</code>, <code>sd()</code>, <code>sum()</code> have the argument <code>na.rm</code> which is set to <code>FALSE</code> by default. I set the argument to <code>TRUE</code> here (or <code>T</code> for short), which means that the <code>NA</code> values are ignored, and the <code>median()</code> is calculated based on the remaning values.</p>
<p>You can use <code>,</code> and <code>&amp;</code> interchangeably in <code>filter()</code>. Make sure to use parentheses when combining several logical operators to indicate which logical operation should be performed first:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>((skin_color <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dark&quot;</span>, <span class="st">&quot;pale&quot;</span>) <span class="op">|</span><span class="st"> </span>gender <span class="op">==</span><span class="st"> &quot;hermaphrodite&quot;</span>) <span class="op">&amp;</span><span class="st"> </span>height <span class="op">&gt;</span><span class="st"> </span><span class="dv">170</span>)</code></pre>
<pre><code>## # A tibble: 10 x 13
##    name  height  mass hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
##  1 Jabb…    175  1358 &lt;NA&gt;       green-tan… orange           600 herma…
##  2 Land…    177    79 black      dark       brown             31 male  
##  3 Quar…    183    NA black      dark       brown             62 male  
##  4 Bib …    180    NA none       pale       pink              NA male  
##  5 Mace…    188    84 none       dark       brown             72 male  
##  6 Ki-A…    198    82 white      pale       yellow            92 male  
##  7 Adi …    184    50 none       dark       blue              NA female
##  8 Saes…    188    NA none       pale       orange            NA male  
##  9 Greg…    185    85 black      dark       brown             NA male  
## 10 Sly …    178    48 none       pale       white             NA female
## # … with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>The starwars characters that have either a <code>"dark"</code> or a <code>"pale"</code> skin tone, or whose gender is <code>"hermaphrodite"</code>, and whose height is at least <code>170</code> cm. The <code>%in%</code> operator is useful when there are multiple options. Instead of <code>skin_color %in% c("dark", "pale")</code>, I could have also written <code>skin_color == "dark" | skin_color == "pale"</code> but this gets cumbersome as the number of options increases.</p>
</div>
<div id="rename" class="section level3">
<h3><span class="header-section-number">4.6.2</span> rename()</h3>
<p><code>rename()</code> renames column names.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">person =</span> name,
         <span class="dt">mass_kg =</span> mass)</code></pre>
<pre><code>## # A tibble: 87 x 13
##    person height mass_kg hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
##  1 Luke …    172      77 blond      fair       blue            19   male  
##  2 C-3PO     167      75 &lt;NA&gt;       gold       yellow         112   &lt;NA&gt;  
##  3 R2-D2      96      32 &lt;NA&gt;       white, bl… red             33   &lt;NA&gt;  
##  4 Darth…    202     136 none       white      yellow          41.9 male  
##  5 Leia …    150      49 brown      light      brown           19   female
##  6 Owen …    178     120 brown, gr… light      blue            52   male  
##  7 Beru …    165      75 brown      light      blue            47   female
##  8 R5-D4      97      32 &lt;NA&gt;       white, red red             NA   &lt;NA&gt;  
##  9 Biggs…    183      84 black      light      brown           24   male  
## 10 Obi-W…    182      77 auburn, w… fair       blue-gray       57   male  
## # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>The new variable names goes on the LHS of the<code>=</code> sign, and the old name on the RHS.</p>
<p>To rename all variables at the same time use <code>set_names()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">set_names</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(.)])  <span class="co"># renamed all variables to letters: a, b, ...</span></code></pre>
<pre><code>## # A tibble: 87 x 13
##    a          b     c d     e     f         g h     i     j     k     l    
##    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;lis&gt; &lt;lis&gt;
##  1 Luke …   172    77 blond fair  blue   19   male  Tato… Human &lt;chr… &lt;chr…
##  2 C-3PO    167    75 &lt;NA&gt;  gold  yell… 112   &lt;NA&gt;  Tato… Droid &lt;chr… &lt;chr…
##  3 R2-D2     96    32 &lt;NA&gt;  whit… red    33   &lt;NA&gt;  Naboo Droid &lt;chr… &lt;chr…
##  4 Darth…   202   136 none  white yell…  41.9 male  Tato… Human &lt;chr… &lt;chr…
##  5 Leia …   150    49 brown light brown  19   fema… Alde… Human &lt;chr… &lt;chr…
##  6 Owen …   178   120 brow… light blue   52   male  Tato… Human &lt;chr… &lt;chr…
##  7 Beru …   165    75 brown light blue   47   fema… Tato… Human &lt;chr… &lt;chr…
##  8 R5-D4     97    32 &lt;NA&gt;  whit… red    NA   &lt;NA&gt;  Tato… Droid &lt;chr… &lt;chr…
##  9 Biggs…   183    84 black light brown  24   male  Tato… Human &lt;chr… &lt;chr…
## 10 Obi-W…   182    77 aubu… fair  blue…  57   male  Stew… Human &lt;chr… &lt;chr…
## # … with 77 more rows, and 1 more variable: m &lt;list&gt;</code></pre>
</div>
<div id="select" class="section level3">
<h3><span class="header-section-number">4.6.3</span> select()</h3>
<p><code>select()</code> allows us to select a subset of the columns in the data frame.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(name, height, mass)</code></pre>
<pre><code>## # A tibble: 87 x 3
##    name               height  mass
##    &lt;chr&gt;               &lt;int&gt; &lt;dbl&gt;
##  1 Luke Skywalker        172    77
##  2 C-3PO                 167    75
##  3 R2-D2                  96    32
##  4 Darth Vader           202   136
##  5 Leia Organa           150    49
##  6 Owen Lars             178   120
##  7 Beru Whitesun lars    165    75
##  8 R5-D4                  97    32
##  9 Biggs Darklighter     183    84
## 10 Obi-Wan Kenobi        182    77
## # … with 77 more rows</code></pre>
<p>We can select multiple columns using the <code>(from:to)</code> syntax:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">  </span><span class="kw">select</span>(name<span class="op">:</span>birth_year) <span class="co"># from name to birth_year</span></code></pre>
<pre><code>## # A tibble: 87 x 7
##    name           height  mass hair_color   skin_color eye_color birth_year
##    &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt;
##  1 Luke Skywalker    172    77 blond        fair       blue            19  
##  2 C-3PO             167    75 &lt;NA&gt;         gold       yellow         112  
##  3 R2-D2              96    32 &lt;NA&gt;         white, bl… red             33  
##  4 Darth Vader       202   136 none         white      yellow          41.9
##  5 Leia Organa       150    49 brown        light      brown           19  
##  6 Owen Lars         178   120 brown, grey  light      blue            52  
##  7 Beru Whitesun…    165    75 brown        light      blue            47  
##  8 R5-D4              97    32 &lt;NA&gt;         white, red red             NA  
##  9 Biggs Darklig…    183    84 black        light      brown           24  
## 10 Obi-Wan Kenobi    182    77 auburn, whi… fair       blue-gray       57  
## # … with 77 more rows</code></pre>
<p>Or use a variable for column selection:</p>
<pre class="sourceCode r"><code class="sourceCode r">columns =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;height&quot;</span>, <span class="st">&quot;species&quot;</span>)

df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">one_of</span>(columns)) <span class="co"># useful when using a variable for column selection</span></code></pre>
<pre><code>## # A tibble: 87 x 3
##    name               height species
##    &lt;chr&gt;               &lt;int&gt; &lt;chr&gt;  
##  1 Luke Skywalker        172 Human  
##  2 C-3PO                 167 Droid  
##  3 R2-D2                  96 Droid  
##  4 Darth Vader           202 Human  
##  5 Leia Organa           150 Human  
##  6 Owen Lars             178 Human  
##  7 Beru Whitesun lars    165 Human  
##  8 R5-D4                  97 Droid  
##  9 Biggs Darklighter     183 Human  
## 10 Obi-Wan Kenobi        182 Human  
## # … with 77 more rows</code></pre>
<p>We can also <em>deselect</em> (multiple) columns:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>name, <span class="op">-</span>(birth_year<span class="op">:</span>vehicles))</code></pre>
<pre><code>## # A tibble: 87 x 6
##    height  mass hair_color    skin_color  eye_color starships
##     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;     &lt;list&gt;   
##  1    172    77 blond         fair        blue      &lt;chr [2]&gt;
##  2    167    75 &lt;NA&gt;          gold        yellow    &lt;chr [0]&gt;
##  3     96    32 &lt;NA&gt;          white, blue red       &lt;chr [0]&gt;
##  4    202   136 none          white       yellow    &lt;chr [1]&gt;
##  5    150    49 brown         light       brown     &lt;chr [0]&gt;
##  6    178   120 brown, grey   light       blue      &lt;chr [0]&gt;
##  7    165    75 brown         light       blue      &lt;chr [0]&gt;
##  8     97    32 &lt;NA&gt;          white, red  red       &lt;chr [0]&gt;
##  9    183    84 black         light       brown     &lt;chr [1]&gt;
## 10    182    77 auburn, white fair        blue-gray &lt;chr [5]&gt;
## # … with 77 more rows</code></pre>
<p>And select columns by partially matching the column name:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;_&quot;</span>)) <span class="co"># every column that contains the character &quot;_&quot;</span></code></pre>
<pre><code>## # A tibble: 87 x 4
##    hair_color    skin_color  eye_color birth_year
##    &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
##  1 blond         fair        blue            19  
##  2 &lt;NA&gt;          gold        yellow         112  
##  3 &lt;NA&gt;          white, blue red             33  
##  4 none          white       yellow          41.9
##  5 brown         light       brown           19  
##  6 brown, grey   light       blue            52  
##  7 brown         light       blue            47  
##  8 &lt;NA&gt;          white, red  red             NA  
##  9 black         light       brown           24  
## 10 auburn, white fair        blue-gray       57  
## # … with 77 more rows</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;h&quot;</span>)) <span class="co"># every column that starts with an &quot;h&quot;</span></code></pre>
<pre><code>## # A tibble: 87 x 3
##    height hair_color    homeworld
##     &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;    
##  1    172 blond         Tatooine 
##  2    167 &lt;NA&gt;          Tatooine 
##  3     96 &lt;NA&gt;          Naboo    
##  4    202 none          Tatooine 
##  5    150 brown         Alderaan 
##  6    178 brown, grey   Tatooine 
##  7    165 brown         Tatooine 
##  8     97 &lt;NA&gt;          Tatooine 
##  9    183 black         Tatooine 
## 10    182 auburn, white Stewjon  
## # … with 77 more rows</code></pre>
<p>We can also use <code>select()</code> to reorder the columns:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># useful trick for changing the column order, now eye_color is at the beginning</span>
df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(eye_color, <span class="kw">everything</span>())</code></pre>
<pre><code>## # A tibble: 87 x 13
##    eye_color name  height  mass hair_color skin_color birth_year gender
##    &lt;chr&gt;     &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt; 
##  1 blue      Luke…    172    77 blond      fair             19   male  
##  2 yellow    C-3PO    167    75 &lt;NA&gt;       gold            112   &lt;NA&gt;  
##  3 red       R2-D2     96    32 &lt;NA&gt;       white, bl…       33   &lt;NA&gt;  
##  4 yellow    Dart…    202   136 none       white            41.9 male  
##  5 brown     Leia…    150    49 brown      light            19   female
##  6 blue      Owen…    178   120 brown, gr… light            52   male  
##  7 blue      Beru…    165    75 brown      light            47   female
##  8 red       R5-D4     97    32 &lt;NA&gt;       white, red       NA   &lt;NA&gt;  
##  9 brown     Bigg…    183    84 black      light            24   male  
## 10 blue-gray Obi-…    182    77 auburn, w… fair             57   male  
## # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>Here, I’ve moved the <code>eye_color</code> column to the beginning of the data frame. <code>everything()</code> is a helper function which selects all the columns.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>eye_color, <span class="kw">everything</span>(), eye_color) <span class="co"># move eye_color to the end</span></code></pre>
<pre><code>## # A tibble: 87 x 13
##    name  height  mass hair_color skin_color birth_year gender homeworld
##    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
##  1 Luke…    172    77 blond      fair             19   male   Tatooine 
##  2 C-3PO    167    75 &lt;NA&gt;       gold            112   &lt;NA&gt;   Tatooine 
##  3 R2-D2     96    32 &lt;NA&gt;       white, bl…       33   &lt;NA&gt;   Naboo    
##  4 Dart…    202   136 none       white            41.9 male   Tatooine 
##  5 Leia…    150    49 brown      light            19   female Alderaan 
##  6 Owen…    178   120 brown, gr… light            52   male   Tatooine 
##  7 Beru…    165    75 brown      light            47   female Tatooine 
##  8 R5-D4     97    32 &lt;NA&gt;       white, red       NA   &lt;NA&gt;   Tatooine 
##  9 Bigg…    183    84 black      light            24   male   Tatooine 
## 10 Obi-…    182    77 auburn, w… fair             57   male   Stewjon  
## # … with 77 more rows, and 5 more variables: species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;, eye_color &lt;chr&gt;</code></pre>
<p>Here, I’ve moved <code>eye_color</code> to the end. Note that I had to deselect it first.</p>
<p>We can select columns based on their data type using <code>select_if()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(is.numeric) <span class="co"># just select numeric columns</span></code></pre>
<pre><code>## # A tibble: 87 x 3
##    height  mass birth_year
##     &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1    172    77       19  
##  2    167    75      112  
##  3     96    32       33  
##  4    202   136       41.9
##  5    150    49       19  
##  6    178   120       52  
##  7    165    75       47  
##  8     97    32       NA  
##  9    183    84       24  
## 10    182    77       57  
## # … with 77 more rows</code></pre>
<p>The following selects all columns that are not numeric:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(<span class="op">~</span><span class="st"> </span><span class="op">!</span><span class="kw">is.numeric</span>(.)) <span class="co"># selects all columns that are not numeric</span></code></pre>
<pre><code>## # A tibble: 87 x 10
##    name  hair_color skin_color eye_color gender homeworld species films
##    &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;   &lt;lis&gt;
##  1 Luke… blond      fair       blue      male   Tatooine  Human   &lt;chr…
##  2 C-3PO &lt;NA&gt;       gold       yellow    &lt;NA&gt;   Tatooine  Droid   &lt;chr…
##  3 R2-D2 &lt;NA&gt;       white, bl… red       &lt;NA&gt;   Naboo     Droid   &lt;chr…
##  4 Dart… none       white      yellow    male   Tatooine  Human   &lt;chr…
##  5 Leia… brown      light      brown     female Alderaan  Human   &lt;chr…
##  6 Owen… brown, gr… light      blue      male   Tatooine  Human   &lt;chr…
##  7 Beru… brown      light      blue      female Tatooine  Human   &lt;chr…
##  8 R5-D4 &lt;NA&gt;       white, red red       &lt;NA&gt;   Tatooine  Droid   &lt;chr…
##  9 Bigg… black      light      brown     male   Tatooine  Human   &lt;chr…
## 10 Obi-… auburn, w… fair       blue-gray male   Stewjon   Human   &lt;chr…
## # … with 77 more rows, and 2 more variables: vehicles &lt;list&gt;,
## #   starships &lt;list&gt;</code></pre>
<p>Note that I used <code>~</code> here to indicate that I’m creating an anonymous function to check whether column type is numeric. A one-sided formula (expression beginning with <code>~</code>) is interpreted as <code>function(x)</code>, and wherever <code>x</code> would go in the function is represented by <code>.</code>.</p>
<p>So, I could write the same code like so:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select_if</span>(<span class="cf">function</span>(x) <span class="op">!</span><span class="kw">is.numeric</span>(x)) <span class="co"># selects all columns that are not numeric</span></code></pre>
<pre><code>## # A tibble: 87 x 10
##    name  hair_color skin_color eye_color gender homeworld species films
##    &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;   &lt;lis&gt;
##  1 Luke… blond      fair       blue      male   Tatooine  Human   &lt;chr…
##  2 C-3PO &lt;NA&gt;       gold       yellow    &lt;NA&gt;   Tatooine  Droid   &lt;chr…
##  3 R2-D2 &lt;NA&gt;       white, bl… red       &lt;NA&gt;   Naboo     Droid   &lt;chr…
##  4 Dart… none       white      yellow    male   Tatooine  Human   &lt;chr…
##  5 Leia… brown      light      brown     female Alderaan  Human   &lt;chr…
##  6 Owen… brown, gr… light      blue      male   Tatooine  Human   &lt;chr…
##  7 Beru… brown      light      blue      female Tatooine  Human   &lt;chr…
##  8 R5-D4 &lt;NA&gt;       white, red red       &lt;NA&gt;   Tatooine  Droid   &lt;chr…
##  9 Bigg… black      light      brown     male   Tatooine  Human   &lt;chr…
## 10 Obi-… auburn, w… fair       blue-gray male   Stewjon   Human   &lt;chr…
## # … with 77 more rows, and 2 more variables: vehicles &lt;list&gt;,
## #   starships &lt;list&gt;</code></pre>
<p>We can rename some of the columns using <code>select()</code> like so:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="dt">person =</span> name, height, <span class="dt">mass_kg =</span> mass)</code></pre>
<pre><code>## # A tibble: 87 x 3
##    person             height mass_kg
##    &lt;chr&gt;               &lt;int&gt;   &lt;dbl&gt;
##  1 Luke Skywalker        172      77
##  2 C-3PO                 167      75
##  3 R2-D2                  96      32
##  4 Darth Vader           202     136
##  5 Leia Organa           150      49
##  6 Owen Lars             178     120
##  7 Beru Whitesun lars    165      75
##  8 R5-D4                  97      32
##  9 Biggs Darklighter     183      84
## 10 Obi-Wan Kenobi        182      77
## # … with 77 more rows</code></pre>
<p>For more details, take a look at the help file for <code>select()</code>, and this <a href="https://suzan.rbind.io/2018/01/dplyr-tutorial-1/">this great tutorial</a> in which I learned about some of the more advanced ways of using <code>select()</code>.</p>
</div>
<div id="mutate" class="section level3">
<h3><span class="header-section-number">4.6.4</span> mutate()</h3>
<p><code>mutate()</code> is used to change exisitng columns or make new ones.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">height =</span> height <span class="op">/</span><span class="st"> </span><span class="dv">100</span>, <span class="co"># to get height in meters</span>
         <span class="dt">bmi =</span> mass <span class="op">/</span><span class="st"> </span>(height<span class="op">^</span><span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># bmi = kg / (m^2)</span>
<span class="st">  </span><span class="kw">select</span>(name, height, mass, bmi)</code></pre>
<pre><code>## # A tibble: 87 x 4
##    name               height  mass   bmi
##    &lt;chr&gt;               &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 Luke Skywalker       1.72    77  26.0
##  2 C-3PO                1.67    75  26.9
##  3 R2-D2                0.96    32  34.7
##  4 Darth Vader          2.02   136  33.3
##  5 Leia Organa          1.5     49  21.8
##  6 Owen Lars            1.78   120  37.9
##  7 Beru Whitesun lars   1.65    75  27.5
##  8 R5-D4                0.97    32  34.0
##  9 Biggs Darklighter    1.83    84  25.1
## 10 Obi-Wan Kenobi       1.82    77  23.2
## # … with 77 more rows</code></pre>
<p>Here, I’ve calculated the bmi for the different starwars characters. I first mutated the height variable by going from cm to m, and then created the new column “bmi”.</p>
<p>A useful helper function for <code>mutate()</code> is <code>ifelse()</code> which is a shorthand for the if-else control flow (Section <a href="data-wrangling-1.html#if-else">4.4.4.1</a>). Here is an example:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">height_categorical =</span> <span class="kw">ifelse</span>(height <span class="op">&gt;</span><span class="st"> </span><span class="kw">median</span>(height, <span class="dt">na.rm =</span> T), <span class="st">&#39;tall&#39;</span>, <span class="st">&#39;short&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(name, <span class="kw">contains</span>(<span class="st">&quot;height&quot;</span>))</code></pre>
<pre><code>## # A tibble: 87 x 3
##    name               height height_categorical
##    &lt;chr&gt;               &lt;int&gt; &lt;chr&gt;             
##  1 Luke Skywalker        172 short             
##  2 C-3PO                 167 short             
##  3 R2-D2                  96 short             
##  4 Darth Vader           202 tall              
##  5 Leia Organa           150 short             
##  6 Owen Lars             178 short             
##  7 Beru Whitesun lars    165 short             
##  8 R5-D4                  97 short             
##  9 Biggs Darklighter     183 tall              
## 10 Obi-Wan Kenobi        182 tall              
## # … with 77 more rows</code></pre>
<p><code>ifelse()</code> works in the following way: we first specify the condition, then what should be returned if the condition is true, and finally what should be returned otherwise. The more verbose version of the statement above would be: <code>ifelse(test = height &gt; median(height, na.rm = T), yes = 'tall', no = 'short')</code></p>
<p>There are a number of variants of the <code>mutate()</code> function. Let’s take a look at them.</p>
<div id="mutate_at" class="section level4">
<h4><span class="header-section-number">4.6.4.1</span> mutate_at()</h4>
<p>With <code>mutate_at()</code>, we can mutate several columns at the same time.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_at</span>(<span class="dt">.vars =</span> <span class="kw">vars</span>(height, mass, birth_year), <span class="dt">.funs =</span> <span class="st">&quot;scale&quot;</span>)</code></pre>
<pre><code>## # A tibble: 87 x 13
##    name  height[,1] mass[,1] hair_color skin_color eye_color birth_year[,1]
##    &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;
##  1 Luke…    -0.0678  -0.120  blond      fair       blue              -0.443
##  2 C-3PO    -0.212   -0.132  &lt;NA&gt;       gold       yellow             0.158
##  3 R2-D2    -2.25    -0.385  &lt;NA&gt;       white, bl… red               -0.353
##  4 Dart…     0.795    0.228  none       white      yellow            -0.295
##  5 Leia…    -0.701   -0.285  brown      light      brown             -0.443
##  6 Owen…     0.105    0.134  brown, gr… light      blue              -0.230
##  7 Beru…    -0.269   -0.132  brown      light      blue              -0.262
##  8 R5-D4    -2.22    -0.385  &lt;NA&gt;       white, red red               NA    
##  9 Bigg…     0.249   -0.0786 black      light      brown             -0.411
## 10 Obi-…     0.220   -0.120  auburn, w… fair       blue-gray         -0.198
## # … with 77 more rows, and 6 more variables: gender &lt;chr&gt;,
## #   homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;,
## #   starships &lt;list&gt;</code></pre>
<p>In <code>vars()</code> I’ve specified what variables to mutate, I’ve passed the function name <code>"scale"</code> to the <code>.funs</code> argument. Here, I’ve z-scored <code>height</code>, <code>mass</code>, and <code>birth_year</code> using the <code>scale()</code> function. Note that I wrote the function without <code>()</code>. The <code>.funs</code> argument expects a list of functions that can be specified by:</p>
<ul>
<li>their name, “mean”</li>
<li>the function itself, <code>mean</code></li>
<li>a call to the function with <code>.</code> as a dummy argument, <code>~ mean(.)</code> (note the <code>~</code> before the function call).</li>
</ul>
<p>Within <code>vars()</code>, we can use the same helper functions for selecting columns that we’ve seen above for <code>select()</code>.</p>
<p>We can also use names to create new columns:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(height, mass, birth_year), <span class="dt">.funs =</span> <span class="kw">list</span>(<span class="dt">z =</span> <span class="st">&quot;scale&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(name, <span class="kw">contains</span>(<span class="st">&quot;height&quot;</span>), <span class="kw">contains</span>(<span class="st">&quot;mass&quot;</span>), <span class="kw">contains</span>(<span class="st">&quot;birth_year&quot;</span>))</code></pre>
<pre><code>## # A tibble: 87 x 7
##    name    height height_z[,1]  mass mass_z[,1] birth_year birth_year_z[,1]
##    &lt;chr&gt;    &lt;int&gt;        &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;            &lt;dbl&gt;
##  1 Luke S…    172      -0.0678    77    -0.120        19             -0.443
##  2 C-3PO      167      -0.212     75    -0.132       112              0.158
##  3 R2-D2       96      -2.25      32    -0.385        33             -0.353
##  4 Darth …    202       0.795    136     0.228        41.9           -0.295
##  5 Leia O…    150      -0.701     49    -0.285        19             -0.443
##  6 Owen L…    178       0.105    120     0.134        52             -0.230
##  7 Beru W…    165      -0.269     75    -0.132        47             -0.262
##  8 R5-D4       97      -2.22      32    -0.385        NA             NA    
##  9 Biggs …    183       0.249     84    -0.0786       24             -0.411
## 10 Obi-Wa…    182       0.220     77    -0.120        57             -0.198
## # … with 77 more rows</code></pre>
<p>As we can see, new columns were created with <code>_z</code> added to the end of the column name.</p>
<p>And we can apply several functions at the same time.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(height, mass, birth_year),
            <span class="kw">list</span>(<span class="dt">z =</span> <span class="st">&quot;scale&quot;</span>,
                 <span class="dt">centered =</span> <span class="op">~</span><span class="st"> </span><span class="kw">scale</span>(., <span class="dt">scale =</span> <span class="ot">FALSE</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(name, <span class="kw">contains</span>(<span class="st">&quot;height&quot;</span>), <span class="kw">contains</span>(<span class="st">&quot;mass&quot;</span>), <span class="kw">contains</span>(<span class="st">&quot;birth_year&quot;</span>))</code></pre>
<pre><code>## # A tibble: 87 x 10
##    name  height height_z[,1] height_centered…  mass mass_z[,1]
##    &lt;chr&gt;  &lt;int&gt;        &lt;dbl&gt;            &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1 Luke…    172      -0.0678            -2.36    77    -0.120 
##  2 C-3PO    167      -0.212             -7.36    75    -0.132 
##  3 R2-D2     96      -2.25             -78.4     32    -0.385 
##  4 Dart…    202       0.795             27.6    136     0.228 
##  5 Leia…    150      -0.701            -24.4     49    -0.285 
##  6 Owen…    178       0.105              3.64   120     0.134 
##  7 Beru…    165      -0.269             -9.36    75    -0.132 
##  8 R5-D4     97      -2.22             -77.4     32    -0.385 
##  9 Bigg…    183       0.249              8.64    84    -0.0786
## 10 Obi-…    182       0.220              7.64    77    -0.120 
## # … with 77 more rows, and 4 more variables: mass_centered[,1] &lt;dbl&gt;,
## #   birth_year &lt;dbl&gt;, birth_year_z[,1] &lt;dbl&gt;,
## #   birth_year_centered[,1] &lt;dbl&gt;</code></pre>
<p>Here, I’ve created z-scored and centered (i.e. only subtracted the mean but didn’t divide by the standard deviation) versions of the <code>height</code>, <code>mass</code>, and <code>birth_year</code> columns in one go.</p>
</div>
<div id="mutate_all" class="section level4">
<h4><span class="header-section-number">4.6.4.2</span> mutate_all()</h4>
<p><code>mutate_all()</code> is used to mutate all columns in a data frame.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(height, mass) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate_all</span>(<span class="st">&quot;as.character&quot;</span>) <span class="co"># transform all columns to characters</span></code></pre>
<pre><code>## # A tibble: 87 x 2
##    height mass 
##    &lt;chr&gt;  &lt;chr&gt;
##  1 172    77   
##  2 167    75   
##  3 96     32   
##  4 202    136  
##  5 150    49   
##  6 178    120  
##  7 165    75   
##  8 97     32   
##  9 183    84   
## 10 182    77   
## # … with 77 more rows</code></pre>
<p>Here, I’ve selected some columns first, and then changed the mode to character in each of them.</p>
<p>Like we’ve seen with <code>mutate_at()</code>, you can add a name in the <code>mutate_all()</code> function call to make new columns instead of replacing the existing ones.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(height, mass) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate_all</span>(<span class="dt">.funs =</span> <span class="kw">list</span>(<span class="dt">char =</span> <span class="st">&quot;as.character&quot;</span>)) <span class="co"># make new character columns</span></code></pre>
<pre><code>## # A tibble: 87 x 4
##    height  mass height_char mass_char
##     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    
##  1    172    77 172         77       
##  2    167    75 167         75       
##  3     96    32 96          32       
##  4    202   136 202         136      
##  5    150    49 150         49       
##  6    178   120 178         120      
##  7    165    75 165         75       
##  8     97    32 97          32       
##  9    183    84 183         84       
## 10    182    77 182         77       
## # … with 77 more rows</code></pre>
</div>
<div id="mutate_if" class="section level4">
<h4><span class="header-section-number">4.6.4.3</span> mutate_if()</h4>
<p><code>mutate_if()</code> can sometimes come in handy. For example, the following code changes all the numeric columns to character columns:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_if</span>(<span class="dt">.predicate =</span> is.numeric, <span class="dt">.funs =</span> <span class="st">&quot;as.character&quot;</span>)</code></pre>
<pre><code>## # A tibble: 87 x 13
##    name  height mass  hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt; 
##  1 Luke… 172    77    blond      fair       blue      19         male  
##  2 C-3PO 167    75    &lt;NA&gt;       gold       yellow    112        &lt;NA&gt;  
##  3 R2-D2 96     32    &lt;NA&gt;       white, bl… red       33         &lt;NA&gt;  
##  4 Dart… 202    136   none       white      yellow    41.9       male  
##  5 Leia… 150    49    brown      light      brown     19         female
##  6 Owen… 178    120   brown, gr… light      blue      52         male  
##  7 Beru… 165    75    brown      light      blue      47         female
##  8 R5-D4 97     32    &lt;NA&gt;       white, red red       &lt;NA&gt;       &lt;NA&gt;  
##  9 Bigg… 183    84    black      light      brown     24         male  
## 10 Obi-… 182    77    auburn, w… fair       blue-gray 57         male  
## # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>Or we can round all the numeric columns:</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate_if</span>(<span class="dt">.predicate =</span> is.numeric, <span class="dt">.funs =</span> <span class="st">&quot;round&quot;</span>)</code></pre>
<pre><code>## # A tibble: 87 x 13
##    name  height  mass hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
##  1 Luke…    172    77 blond      fair       blue              19 male  
##  2 C-3PO    167    75 &lt;NA&gt;       gold       yellow           112 &lt;NA&gt;  
##  3 R2-D2     96    32 &lt;NA&gt;       white, bl… red               33 &lt;NA&gt;  
##  4 Dart…    202   136 none       white      yellow            42 male  
##  5 Leia…    150    49 brown      light      brown             19 female
##  6 Owen…    178   120 brown, gr… light      blue              52 male  
##  7 Beru…    165    75 brown      light      blue              47 female
##  8 R5-D4     97    32 &lt;NA&gt;       white, red red               NA &lt;NA&gt;  
##  9 Bigg…    183    84 black      light      brown             24 male  
## 10 Obi-…    182    77 auburn, w… fair       blue-gray         57 male  
## # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div id="arrange" class="section level3">
<h3><span class="header-section-number">4.6.5</span> arrange()</h3>
<p><code>arrange()</code> allows us to sort the values in a data frame by one or more column entries.</p>
<pre class="sourceCode r"><code class="sourceCode r">df.starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(hair_color, <span class="kw">desc</span>(height))</code></pre>
<pre><code>## # A tibble: 87 x 13
##    name  height  mass hair_color skin_color eye_color birth_year gender
##    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; 
##  1 Mon …    150  NA   auburn     fair       blue            48   female
##  2 Wilh…    180  NA   auburn, g… fair       blue            64   male  
##  3 Obi-…    182  77   auburn, w… fair       blue-gray       57   male  
##  4 Bail…    191  NA   black      tan        brown           67   male  
##  5 Greg…    185  85   black      dark       brown           NA   male  
##  6 Bigg…    183  84   black      light      brown           24   male  
##  7 Boba…    183  78.2 black      fair       brown           31.5 male  
##  8 Quar…    183  NA   black      dark       brown           62   male  
##  9 Jang…    183  79   black      tan        brown           66   male  
## 10 Land…    177  79   black      dark       brown           31   male  
## # … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;,
## #   species &lt;chr&gt;, films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>Here, I’ve sorted the data frame first by <code>hair_color</code>, and then by <code>height</code>. I’ve used the <code>desc()</code> function to sort <code>height</code> in descending order. Bail Prestor Organa is the tallest black character in starwars.</p>
</div>
<div id="practice-2" class="section level3">
<h3><span class="header-section-number">4.6.6</span> Practice 2</h3>
<p>Compute the body mass index for <code>male</code> characters who are <code>human</code>.</p>
<ul>
<li>select only the columns you need</li>
<li>filter out only the rows you need</li>
<li>make the new variable with the body mass index</li>
<li>arrange the data frame starting with the highest body mass index</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># write your code here </span></code></pre>
</div>
</div>
<div id="additional-resources-2" class="section level2">
<h2><span class="header-section-number">4.7</span> Additional resources</h2>
<div id="cheatsheets-2" class="section level3">
<h3><span class="header-section-number">4.7.1</span> Cheatsheets</h3>
<ul>
<li><a href="figures/base-r.pdf">base R</a> –&gt; summary of how to use base R (we will mostly use the tidyverse but it’s still important to know how to do things in base R)</li>
<li><a href="figures/data-transformation.pdf">data transformation</a> –&gt; transforming data using <code>dplyr</code></li>
</ul>
</div>
<div id="data-camp-courses-2" class="section level3">
<h3><span class="header-section-number">4.7.2</span> Data camp courses</h3>
<ul>
<li><a href="https://www.datacamp.com/courses/importing-cleaning-data-in-r-case-studies">cleaning data</a></li>
<li><a href="https://www.datacamp.com/courses/dplyr-data-manipulation-r-tutorial">dplyr</a></li>
<li><a href="https://www.datacamp.com/courses/introduction-to-the-tidyverse">tidyverse</a></li>
</ul>
</div>
<div id="books-and-chapters-2" class="section level3">
<h3><span class="header-section-number">4.7.3</span> Books and chapters</h3>
<ul>
<li><a href="https://r4ds.had.co.nz/wrangle-intro.html">Chapters 9-15 in “R for Data Science”</a></li>
<li><a href="http://socviz.co/workgeoms.html#workgeoms">Chapter 5 in “Data Visualization - A practical introduction”</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualization-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-wrangling-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psych252/psych252book/edit/master/04-data_wrangling1.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["psych252.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toc_depth": 3,
"search": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
